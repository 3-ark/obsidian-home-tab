/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var ba=Object.create;var zo=Object.defineProperty;var ya=Object.getOwnPropertyDescriptor;var wa=Object.getOwnPropertyNames;var Sa=Object.getPrototypeOf,ka=Object.prototype.hasOwnProperty;var wt=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),Fa=(o,e)=>{for(var t in e)zo(o,t,{get:e[t],enumerable:!0})},di=(o,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of wa(e))!ka.call(o,i)&&i!==t&&zo(o,i,{get:()=>e[i],enumerable:!(r=ya(e,i))||r.enumerable});return o};var Ca=(o,e,t)=>(t=o!=null?ba(Sa(o)):{},di(e||!o||!o.__esModule?zo(t,"default",{value:o,enumerable:!0}):t,o)),Ta=o=>di(zo({},"__esModule",{value:!0}),o);var ta=wt((Kv,ea)=>{"use strict";ea.exports=function(o,e){return o=o.map(t=>{try{t=t.replace(/\\u([\da-f]{4})/ig,(r,i)=>String.fromCharCode(parseInt(i,16)))}catch(r){console.log(r)}return e&&e.disableQuoting?t.startsWith('"')&&t.endsWith('"')&&(t=`${t.substr(1,t.length-2)}`):t.match(/[\s()+]/)&&!t.startsWith('"')&&(t=`"${t}"`),t}),o}});var ra=wt((Jv,oa)=>{"use strict";var wc=require("path"),Sc=require("child_process").execFile,kc=require("child_process").exec,Fc=require("util"),Cc=Fc.promisify(kc),Tc=wc.join(__dirname,"fontlist"),Ic=["iconfont"];async function Ec(){let o=`system_profiler SPFontsDataType | grep "Family:" | awk -F: '{print $2}' | sort | uniq`,{stdout:e}=await Cc(o,{maxBuffer:10485760});return e.split(`
`).map(t=>t.trim()).filter(t=>!!t)}async function Mc(){return new Promise(async(o,e)=>{Sc(Tc,{maxBuffer:1024*1024*10},(t,r,i)=>{if(t){e(t);return}let n=[];r&&(n=n.concat(r.split(`
`))),i&&console.error(i),n=Array.from(new Set(n)).filter(s=>s&&!Ic.includes(s)),o(n)})})}oa.exports=async()=>{let o=[];try{o=await Mc()}catch(e){console.error(e)}if(o.length===0)try{o=await Ec()}catch(e){console.error(e)}return o}});var ia=wt((Yv,na)=>{var Oc=require("child_process").exec,Lc=o=>o.split(`
`).map(e=>e.trim()).filter(e=>!!e);na.exports=()=>new Promise((o,e)=>{Oc(`chcp 65001|powershell -command "chcp 65001|Out-Null;Add-Type -AssemblyName PresentationCore;$families=[Windows.Media.Fonts]::SystemFontFamilies;foreach($family in $families){$name='';if(!$family.FamilyNames.TryGetValue([Windows.Markup.XmlLanguage]::GetLanguage('zh-cn'),[ref]$name)){$name=$family.FamilyNames[[Windows.Markup.XmlLanguage]::GetLanguage('en-us')]}echo $name}"`,{maxBuffer:1024*1024*10},(r,i)=>{if(r){e(r);return}o(Lc(i))})})});var la=wt((Zv,aa)=>{var Pc=require("os"),Ac=require("fs"),ui=require("path"),Bc=require("child_process").execFile,Rc=require("util"),Dc=Rc.promisify(Ac.copyFile);function sa(o){let e=o.split(`
`);return e[0].includes("Microsoft")&&e.splice(0,3),e=e.map(t=>(t=t.split("	")[0].split(ui.sep),t=t[t.length-1],t.match(/^[\w\s]+$/)||(t=""),t=t.replace(/^\s+|\s+$/g,"").replace(/(Regular|常规)$/i,"").replace(/^\s+|\s+$/g,""),t)),e.filter(t=>t)}async function Hc(o){let e=ui.join(Pc.tmpdir(),"node-font-list-fonts.vbs");return await Dc(o,e),e}aa.exports=async()=>{let o=ui.join(__dirname,"fonts.vbs");return o.includes("app.asar")&&(o=await Hc(o)),new Promise((t,r)=>{Bc("cscript",[o],{maxBuffer:1024*1024*10},(n,s,a)=>{let l=[];if(n){r(n);return}s&&(l=l.concat(sa(s))),a&&(l=l.concat(sa(a))),t(l)})})}});var pa=wt((Qv,ca)=>{"use strict";var Vc=require("os"),fa=ia(),ua=la(),zc=[fa,ua],jc=[ua,fa];ca.exports=async()=>{let o=[],t=parseInt(Vc.release())>=10?zc:jc;for(let r of t)try{if(o=await r(),o.length>0)break}catch(i){console.log(i)}return o}});var ga=wt((eb,ma)=>{var Nc=require("child_process").exec,Wc=require("util"),da=Wc.promisify(Nc);async function $c(o){let{stdout:e}=await da(`whereis ${o}`);return e.length>o.length+2}ma.exports=async()=>{let e=(await $c("fc-list")?"fc-list":"fc-list2")+' -f "%{family[0]}\\n"',{stdout:t}=await da(e,{maxBuffer:1024*1024*10}),r=t.split(`
`).filter(i=>!!i);return Array.from(new Set(r))}});var xa=wt(_a=>{"use strict";var qc=ta(),ha=process.platform,pr;switch(ha){case"darwin":pr=ra();break;case"win32":pr=pa();break;case"linux":pr=ga();break;default:throw new Error(`Error: font-list can not run on ${ha}.`)}var Uc={disableQuoting:!1};_a.getFonts=async o=>{o=Object.assign({},Uc,o);let e=await pr();return e=qc(e,o),e.sort((t,r)=>t.replace(/^['"]+/,"").toLocaleLowerCase()<r.replace(/^['"]+/,"").toLocaleLowerCase()?-1:1),e}});var Gc={};Fa(Gc,{default:()=>hr});module.exports=Ta(Gc);var _r=require("obsidian");var cr=require("obsidian");function $(){}var Sr=o=>o;function P(o,e){for(let t in e)o[t]=e[t];return o}function kr(o){return o()}function mi(){return Object.create(null)}function ke(o){o.forEach(kr)}function St(o){return typeof o=="function"}function D(o,e){return o!=o?e==e:o!==e||o&&typeof o=="object"||typeof o=="function"}var jo;function go(o,e){return jo||(jo=document.createElement("a")),jo.href=e,o===jo.href}function _i(o){return Object.keys(o).length===0}function Fr(o,...e){if(o==null)return $;let t=o.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function te(o){let e;return Fr(o,t=>e=t)(),e}function ho(o,e,t){o.$$.on_destroy.push(Fr(e,t))}function U(o,e,t,r){if(o){let i=xi(o,e,t,r);return o[0](i)}}function xi(o,e,t,r){return o[1]&&r?P(t.ctx.slice(),o[1](r(e))):t.ctx}function G(o,e,t,r){if(o[2]&&r){let i=o[2](r(t));if(e.dirty===void 0)return i;if(typeof i=="object"){let n=[],s=Math.max(e.dirty.length,i.length);for(let a=0;a<s;a+=1)n[a]=e.dirty[a]|i[a];return n}return e.dirty|i}return e.dirty}function X(o,e,t,r,i,n){if(i){let s=xi(e,t,r,n);o.p(s,i)}}function K(o){if(o.ctx.length>32){let e=[],t=o.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function j(o){let e={};for(let t in o)t[0]!=="$"&&(e[t]=o[t]);return e}function Cr(o,e){let t={};e=new Set(e);for(let r in o)!e.has(r)&&r[0]!=="$"&&(t[r]=o[r]);return t}function Tr(o){return o==null?"":o}var vi=typeof window!="undefined",Ia=vi?()=>window.performance.now():()=>Date.now(),Ir=vi?o=>requestAnimationFrame(o):$;var qt=new Set;function bi(o){qt.forEach(e=>{e.c(o)||(qt.delete(e),e.f())}),qt.size!==0&&Ir(bi)}function Ea(o){let e;return qt.size===0&&Ir(bi),{promise:new Promise(t=>{qt.add(e={c:o,f:t})}),abort(){qt.delete(e)}}}var yi=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global,po=class{constructor(e){this.options=e,this._listeners="WeakMap"in yi?new WeakMap:void 0}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return(e=this._observer)!==null&&e!==void 0?e:this._observer=new ResizeObserver(t=>{var r;for(let i of t)po.entries.set(i.target,i),(r=this._listeners.get(i.target))===null||r===void 0||r(i)})}};po.entries="WeakMap"in yi?new WeakMap:void 0;var wi=!1;function Ma(){wi=!0}function Oa(){wi=!1}function S(o,e){o.appendChild(e)}function Le(o,e,t){let r=Er(o);if(!r.getElementById(e)){let i=L("style");i.id=e,i.textContent=t,Si(r,i)}}function Er(o){if(!o)return document;let e=o.getRootNode?o.getRootNode():o.ownerDocument;return e&&e.host?e:o.ownerDocument}function La(o){let e=L("style");return Si(Er(o),e),e.sheet}function Si(o,e){return S(o.head||o,e),e.sheet}function x(o,e,t){o.insertBefore(e,t||null)}function _(o){o.parentNode&&o.parentNode.removeChild(o)}function L(o){return document.createElement(o)}function y(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function ue(o){return document.createTextNode(o)}function C(){return ue(" ")}function be(){return ue("")}function Pe(o,e,t,r){return o.addEventListener(e,t,r),()=>o.removeEventListener(e,t,r)}function ki(o){return function(e){return e.preventDefault(),o.call(this,e)}}function p(o,e,t){t==null?o.removeAttribute(e):o.getAttribute(e)!==t&&o.setAttribute(e,t)}function Mr(o,e){for(let t in e)p(o,t,e[t])}function Pa(o){return Array.from(o.childNodes)}function ge(o,e){e=""+e,o.data!==e&&(o.data=e)}function Or(o,e){o.value=e==null?"":e}function se(o,e,t,r){t==null?o.style.removeProperty(e):o.style.setProperty(e,t,r?"important":"")}function Fe(o,e,t){o.classList[t?"add":"remove"](e)}function Fi(o,e,{bubbles:t=!1,cancelable:r=!1}={}){let i=document.createEvent("CustomEvent");return i.initCustomEvent(o,t,r,e),i}function Lr(o,e){return new o(e)}var Wo=new Map,$o=0;function Aa(o){let e=5381,t=o.length;for(;t--;)e=(e<<5)-e^o.charCodeAt(t);return e>>>0}function Ba(o,e){let t={stylesheet:La(e),rules:{}};return Wo.set(o,t),t}function gi(o,e,t,r,i,n,s,a=0){let l=16.666/r,u=`{
`;for(let v=0;v<=1;v+=l){let w=e+(t-e)*n(v);u+=v*100+`%{${s(w,1-w)}}
`}let f=u+`100% {${s(t,1-t)}}
}`,c=`__svelte_${Aa(f)}_${a}`,d=Er(o),{stylesheet:m,rules:g}=Wo.get(d)||Ba(d,o);g[c]||(g[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));let h=o.style.animation||"";return o.style.animation=`${h?`${h}, `:""}${c} ${r}ms linear ${i}ms 1 both`,$o+=1,c}function Ra(o,e){let t=(o.style.animation||"").split(", "),r=t.filter(e?n=>n.indexOf(e)<0:n=>n.indexOf("__svelte")===-1),i=t.length-r.length;i&&(o.style.animation=r.join(", "),$o-=i,$o||Da())}function Da(){Ir(()=>{$o||(Wo.forEach(o=>{let{ownerNode:e}=o.stylesheet;e&&_(e)}),Wo.clear())})}var mo;function co(o){mo=o}function Ci(){if(!mo)throw new Error("Function called outside component initialization");return mo}function Pr(o){Ci().$$.on_mount.push(o)}function Ar(){let o=Ci();return(e,t,{cancelable:r=!1}={})=>{let i=o.$$.callbacks[e];if(i){let n=Fi(e,t,{cancelable:r});return i.slice().forEach(s=>{s.call(o,n)}),!n.defaultPrevented}return!0}}var $t=[];var ct=[],Ut=[],hi=[],Ha=Promise.resolve(),wr=!1;function Va(){wr||(wr=!0,Ha.then(Ti))}function Gt(o){Ut.push(o)}var br=new Set,Wt=0;function Ti(){if(Wt!==0)return;let o=mo;do{try{for(;Wt<$t.length;){let e=$t[Wt];Wt++,co(e),za(e.$$)}}catch(e){throw $t.length=0,Wt=0,e}for(co(null),$t.length=0,Wt=0;ct.length;)ct.pop()();for(let e=0;e<Ut.length;e+=1){let t=Ut[e];br.has(t)||(br.add(t),t())}Ut.length=0}while($t.length);for(;hi.length;)hi.pop()();wr=!1,br.clear(),co(o)}function za(o){if(o.fragment!==null){o.update(),ke(o.before_update);let e=o.dirty;o.dirty=[-1],o.fragment&&o.fragment.p(o.ctx,e),o.after_update.forEach(Gt)}}function ja(o){let e=[],t=[];Ut.forEach(r=>o.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),Ut=e}var uo;function Na(){return uo||(uo=Promise.resolve(),uo.then(()=>{uo=null})),uo}function yr(o,e,t){o.dispatchEvent(Fi(`${e?"intro":"outro"}${t}`))}var No=new Set,Qe;function ye(){Qe={r:0,c:[],p:Qe}}function we(){Qe.r||ke(Qe.c),Qe=Qe.p}function b(o,e){o&&o.i&&(No.delete(o),o.i(e))}function k(o,e,t,r){if(o&&o.o){if(No.has(o))return;No.add(o),Qe.c.push(()=>{No.delete(o),r&&(t&&o.d(1),r())}),o.o(e)}else r&&r()}var Wa={duration:0};function Br(o,e,t,r){let i={direction:"both"},n=e(o,t,i),s=r?0:1,a=null,l=null,u=null;function f(){u&&Ra(o,u)}function c(m,g){let h=m.b-s;return g*=Math.abs(h),{a:s,b:m.b,d:h,duration:g,start:m.start,end:m.start+g,group:m.group}}function d(m){let{delay:g=0,duration:h=300,easing:v=Sr,tick:w=$,css:B}=n||Wa,T={start:Ia()+g,b:m};m||(T.group=Qe,Qe.r+=1),a||l?l=T:(B&&(f(),u=gi(o,s,m,h,g,v,B)),m&&w(0,1),a=c(T,h),Gt(()=>yr(o,m,"start")),Ea(F=>{if(l&&F>l.start&&(a=c(l,h),l=null,yr(o,a.b,"start"),B&&(f(),u=gi(o,s,a.b,a.duration,0,v,n.css))),a){if(F>=a.end)w(s=a.b,1-s),yr(o,a.b,"end"),l||(a.b?f():--a.group.r||ke(a.group.c)),a=null;else if(F>=a.start){let A=F-a.start;s=a.a+a.d*v(A/a.duration),w(s,1-s)}}return!!(a||l)}))}return{run(m){St(n)?Na().then(()=>{n=n(i),d(m)}):d(m)},end(){f(),a=l=null}}}function Xt(o,e){k(o,1,1,()=>{e.delete(o.key)})}function Kt(o,e,t,r,i,n,s,a,l,u,f,c){let d=o.length,m=n.length,g=d,h={};for(;g--;)h[o[g].key]=g;let v=[],w=new Map,B=new Map,T=[];for(g=m;g--;){let E=c(i,n,g),z=t(E),V=s.get(z);V?r&&T.push(()=>V.p(E,e)):(V=u(z,E),V.c()),w.set(z,v[g]=V),z in h&&B.set(z,Math.abs(g-h[z]))}let F=new Set,A=new Set;function W(E){b(E,1),E.m(a,f),s.set(E.key,E),f=E.first,m--}for(;d&&m;){let E=v[m-1],z=o[d-1],V=E.key,Q=z.key;E===z?(f=E.first,d--,m--):w.has(Q)?!s.has(V)||F.has(V)?W(E):A.has(Q)?d--:B.get(V)>B.get(Q)?(A.add(V),W(E)):(F.add(Q),d--):(l(z,s),d--)}for(;d--;){let E=o[d];w.has(E.key)||l(E,s)}for(;m;)W(v[m-1]);return ke(T),v}function J(o,e){let t={},r={},i={$$scope:1},n=o.length;for(;n--;){let s=o[n],a=e[n];if(a){for(let l in s)l in a||(r[l]=1);for(let l in a)i[l]||(t[l]=a[l],i[l]=1);o[n]=a}else for(let l in s)i[l]=1}for(let s in r)s in t||(t[s]=void 0);return t}function Z(o){return typeof o=="object"&&o!==null?o:{}}var $a=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Kc=new Set([...$a]);function O(o){o&&o.c()}function M(o,e,t,r){let{fragment:i,after_update:n}=o.$$;i&&i.m(e,t),r||Gt(()=>{let s=o.$$.on_mount.map(kr).filter(St);o.$$.on_destroy?o.$$.on_destroy.push(...s):ke(s),o.$$.on_mount=[]}),n.forEach(Gt)}function I(o,e){let t=o.$$;t.fragment!==null&&(ja(t.after_update),ke(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function qa(o,e){o.$$.dirty[0]===-1&&($t.push(o),Va(),o.$$.dirty.fill(0)),o.$$.dirty[e/31|0]|=1<<e%31}function H(o,e,t,r,i,n,s,a=[-1]){let l=mo;co(o);let u=o.$$={fragment:null,ctx:[],props:n,update:$,not_equal:i,bound:mi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:mi(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};s&&s(u.root);let f=!1;if(u.ctx=t?t(o,e.props||{},(c,d,...m)=>{let g=m.length?m[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=g)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](g),f&&qa(o,c)),d}):[],u.update(),f=!0,ke(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){Ma();let c=Pa(e.target);u.fragment&&u.fragment.l(c),c.forEach(_)}else u.fragment&&u.fragment.c();e.intro&&b(o.$$.fragment),M(o,e.target,e.anchor,e.customElement),Oa(),Ti()}co(l)}var Ua;typeof HTMLElement=="function"&&(Ua=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:o}=this.$$;this.$$.on_disconnect=o.map(kr).filter(St);for(let e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(o,e,t){this[o]=t}disconnectedCallback(){ke(this.$$.on_disconnect)}$destroy(){I(this,1),this.$destroy=$}$on(o,e){if(!St(e))return $;let t=this.$$.callbacks[o]||(this.$$.callbacks[o]=[]);return t.push(e),()=>{let r=t.indexOf(e);r!==-1&&t.splice(r,1)}}$set(o){this.$$set&&!_i(o)&&(this.$$.skip_bound=!0,this.$$set(o),this.$$.skip_bound=!1)}});var R=class{$destroy(){I(this,1),this.$destroy=$}$on(e,t){if(!St(t))return $;let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{let i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!_i(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var Rs=require("obsidian");var Bt=require("obsidian");var Jt=[];function Ae(o,e=$){let t,r=new Set;function i(a){if(D(o,a)&&(o=a,t)){let l=!Jt.length;for(let u of r)u[1](),Jt.push(u,o);if(l){for(let u=0;u<Jt.length;u+=2)Jt[u][0](Jt[u+1]);Jt.length=0}}}function n(a){i(a(o))}function s(a,l=$){let u=[a,l];return r.add(u),r.size===1&&(t=e(i)||$),a(o),()=>{r.delete(u),r.size===0&&t&&(t(),t=null)}}return{set:i,update:n,subscribe:s}}var it=require("obsidian");function et(o){return Array.isArray?Array.isArray(o):Bi(o)==="[object Array]"}var Ga=1/0;function Xa(o){if(typeof o=="string")return o;let e=o+"";return e=="0"&&1/o==-Ga?"-0":e}function Ka(o){return o==null?"":Xa(o)}function Ue(o){return typeof o=="string"}function Pi(o){return typeof o=="number"}function Ja(o){return o===!0||o===!1||Ya(o)&&Bi(o)=="[object Boolean]"}function Ai(o){return typeof o=="object"}function Ya(o){return Ai(o)&&o!==null}function Oe(o){return o!=null}function Rr(o){return!o.trim().length}function Bi(o){return o==null?o===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(o)}var Za="Incorrect 'index' type",Qa=o=>`Invalid value for key ${o}`,el=o=>`Pattern length exceeds max of ${o}.`,tl=o=>`Missing ${o} property in key`,ol=o=>`Property 'weight' in key '${o}' must be a positive integer`,Ii=Object.prototype.hasOwnProperty,Dr=class{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(r=>{let i=Ri(r);t+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight}),this._keys.forEach(r=>{r.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function Ri(o){let e=null,t=null,r=null,i=1,n=null;if(Ue(o)||et(o))r=o,e=Ei(o),t=Hr(o);else{if(!Ii.call(o,"name"))throw new Error(tl("name"));let s=o.name;if(r=s,Ii.call(o,"weight")&&(i=o.weight,i<=0))throw new Error(ol(s));e=Ei(s),t=Hr(s),n=o.getFn}return{path:e,id:t,weight:i,src:r,getFn:n}}function Ei(o){return et(o)?o:o.split(".")}function Hr(o){return et(o)?o.join("."):o}function rl(o,e){let t=[],r=!1,i=(n,s,a)=>{if(!!Oe(n))if(!s[a])t.push(n);else{let l=s[a],u=n[l];if(!Oe(u))return;if(a===s.length-1&&(Ue(u)||Pi(u)||Ja(u)))t.push(Ka(u));else if(et(u)){r=!0;for(let f=0,c=u.length;f<c;f+=1)i(u[f],s,a+1)}else s.length&&i(u,s,a+1)}};return i(o,Ue(e)?e.split("."):e,0),r?t:t[0]}var nl={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},il={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(o,e)=>o.score===e.score?o.idx<e.idx?-1:1:o.score<e.score?-1:1},sl={location:0,threshold:.6,distance:100},al={useExtendedSearch:!1,getFn:rl,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},N={...il,...nl,...sl,...al},ll=/[^ ]+/g;function fl(o=1,e=3){let t=new Map,r=Math.pow(10,e);return{get(i){let n=i.match(ll).length;if(t.has(n))return t.get(n);let s=1/Math.pow(n,.5*o),a=parseFloat(Math.round(s*r)/r);return t.set(n,a),a},clear(){t.clear()}}}var _o=class{constructor({getFn:e=N.getFn,fieldNormWeight:t=N.fieldNormWeight}={}){this.norm=fl(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,r)=>{this._keysMap[t.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ue(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){let t=this.size();Ue(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,r=this.size();t<r;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!Oe(e)||Rr(e))return;let r={v:e,i:t,n:this.norm.get(e)};this.records.push(r)}_addObject(e,t){let r={i:t,$:{}};this.keys.forEach((i,n)=>{let s=i.getFn?i.getFn(e):this.getFn(e,i.path);if(!!Oe(s)){if(et(s)){let a=[],l=[{nestedArrIndex:-1,value:s}];for(;l.length;){let{nestedArrIndex:u,value:f}=l.pop();if(!!Oe(f))if(Ue(f)&&!Rr(f)){let c={v:f,i:u,n:this.norm.get(f)};a.push(c)}else et(f)&&f.forEach((c,d)=>{l.push({nestedArrIndex:d,value:c})})}r.$[n]=a}else if(Ue(s)&&!Rr(s)){let a={v:s,n:this.norm.get(s)};r.$[n]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}};function Di(o,e,{getFn:t=N.getFn,fieldNormWeight:r=N.fieldNormWeight}={}){let i=new _o({getFn:t,fieldNormWeight:r});return i.setKeys(o.map(Ri)),i.setSources(e),i.create(),i}function ul(o,{getFn:e=N.getFn,fieldNormWeight:t=N.fieldNormWeight}={}){let{keys:r,records:i}=o,n=new _o({getFn:e,fieldNormWeight:t});return n.setKeys(r),n.setIndexRecords(i),n}function qo(o,{errors:e=0,currentLocation:t=0,expectedLocation:r=0,distance:i=N.distance,ignoreLocation:n=N.ignoreLocation}={}){let s=e/o.length;if(n)return s;let a=Math.abs(r-t);return i?s+a/i:a?1:s}function cl(o=[],e=N.minMatchCharLength){let t=[],r=-1,i=-1,n=0;for(let s=o.length;n<s;n+=1){let a=o[n];a&&r===-1?r=n:!a&&r!==-1&&(i=n-1,i-r+1>=e&&t.push([r,i]),r=-1)}return o[n-1]&&n-r>=e&&t.push([r,n-1]),t}var kt=32;function pl(o,e,t,{location:r=N.location,distance:i=N.distance,threshold:n=N.threshold,findAllMatches:s=N.findAllMatches,minMatchCharLength:a=N.minMatchCharLength,includeMatches:l=N.includeMatches,ignoreLocation:u=N.ignoreLocation}={}){if(e.length>kt)throw new Error(el(kt));let f=e.length,c=o.length,d=Math.max(0,Math.min(r,c)),m=n,g=d,h=a>1||l,v=h?Array(c):[],w;for(;(w=o.indexOf(e,g))>-1;){let E=qo(e,{currentLocation:w,expectedLocation:d,distance:i,ignoreLocation:u});if(m=Math.min(E,m),g=w+f,h){let z=0;for(;z<f;)v[w+z]=1,z+=1}}g=-1;let B=[],T=1,F=f+c,A=1<<f-1;for(let E=0;E<f;E+=1){let z=0,V=F;for(;z<V;)qo(e,{errors:E,currentLocation:d+V,expectedLocation:d,distance:i,ignoreLocation:u})<=m?z=V:F=V,V=Math.floor((F-z)/2+z);F=V;let Q=Math.max(1,d-V+1),Y=s?c:Math.min(d+V,c)+f,ne=Array(Y+2);ne[Y+1]=(1<<E)-1;for(let le=Y;le>=Q;le-=1){let oe=le-1,fe=t[o.charAt(oe)];if(h&&(v[oe]=+!!fe),ne[le]=(ne[le+1]<<1|1)&fe,E&&(ne[le]|=(B[le+1]|B[le])<<1|1|B[le+1]),ne[le]&A&&(T=qo(e,{errors:E,currentLocation:oe,expectedLocation:d,distance:i,ignoreLocation:u}),T<=m)){if(m=T,g=oe,g<=d)break;Q=Math.max(1,2*d-g)}}if(qo(e,{errors:E+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:u})>m)break;B=ne}let W={isMatch:g>=0,score:Math.max(.001,T)};if(h){let E=cl(v,a);E.length?l&&(W.indices=E):W.isMatch=!1}return W}function dl(o){let e={};for(let t=0,r=o.length;t<r;t+=1){let i=o.charAt(t);e[i]=(e[i]||0)|1<<r-t-1}return e}var Uo=class{constructor(e,{location:t=N.location,threshold:r=N.threshold,distance:i=N.distance,includeMatches:n=N.includeMatches,findAllMatches:s=N.findAllMatches,minMatchCharLength:a=N.minMatchCharLength,isCaseSensitive:l=N.isCaseSensitive,ignoreLocation:u=N.ignoreLocation}={}){if(this.options={location:t,threshold:r,distance:i,includeMatches:n,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:u},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;let f=(d,m)=>{this.chunks.push({pattern:d,alphabet:dl(d),startIndex:m})},c=this.pattern.length;if(c>kt){let d=0,m=c%kt,g=c-m;for(;d<g;)f(this.pattern.substr(d,kt),d),d+=kt;if(m){let h=c-kt;f(this.pattern.substr(h),h)}}else f(this.pattern,0)}searchIn(e){let{isCaseSensitive:t,includeMatches:r}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let g={isMatch:!0,score:0};return r&&(g.indices=[[0,e.length-1]]),g}let{location:i,distance:n,threshold:s,findAllMatches:a,minMatchCharLength:l,ignoreLocation:u}=this.options,f=[],c=0,d=!1;this.chunks.forEach(({pattern:g,alphabet:h,startIndex:v})=>{let{isMatch:w,score:B,indices:T}=pl(e,g,h,{location:i+v,distance:n,threshold:s,findAllMatches:a,minMatchCharLength:l,includeMatches:r,ignoreLocation:u});w&&(d=!0),c+=B,w&&T&&(f=[...f,...T])});let m={isMatch:d,score:d?c/this.chunks.length:1};return d&&r&&(m.indices=f),m}},Ge=class{constructor(e){this.pattern=e}static isMultiMatch(e){return Mi(e,this.multiRegex)}static isSingleMatch(e){return Mi(e,this.singleRegex)}search(){}};function Mi(o,e){let t=o.match(e);return t?t[1]:null}var Vr=class extends Ge{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},zr=class extends Ge{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},jr=class extends Ge{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},Nr=class extends Ge{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},Wr=class extends Ge{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},$r=class extends Ge{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},Go=class extends Ge{constructor(e,{location:t=N.location,threshold:r=N.threshold,distance:i=N.distance,includeMatches:n=N.includeMatches,findAllMatches:s=N.findAllMatches,minMatchCharLength:a=N.minMatchCharLength,isCaseSensitive:l=N.isCaseSensitive,ignoreLocation:u=N.ignoreLocation}={}){super(e),this._bitapSearch=new Uo(e,{location:t,threshold:r,distance:i,includeMatches:n,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},Xo=class extends Ge{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,r,i=[],n=this.pattern.length;for(;(r=e.indexOf(this.pattern,t))>-1;)t=r+n,i.push([r,t-1]);let s=!!i.length;return{isMatch:s,score:s?0:1,indices:i}}},qr=[Vr,Xo,jr,Nr,$r,Wr,zr,Go],Oi=qr.length,ml=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,gl="|";function hl(o,e={}){return o.split(gl).map(t=>{let r=t.trim().split(ml).filter(n=>n&&!!n.trim()),i=[];for(let n=0,s=r.length;n<s;n+=1){let a=r[n],l=!1,u=-1;for(;!l&&++u<Oi;){let f=qr[u],c=f.isMultiMatch(a);c&&(i.push(new f(c,e)),l=!0)}if(!l)for(u=-1;++u<Oi;){let f=qr[u],c=f.isSingleMatch(a);if(c){i.push(new f(c,e));break}}}return i})}var _l=new Set([Go.type,Xo.type]),Ur=class{constructor(e,{isCaseSensitive:t=N.isCaseSensitive,includeMatches:r=N.includeMatches,minMatchCharLength:i=N.minMatchCharLength,ignoreLocation:n=N.ignoreLocation,findAllMatches:s=N.findAllMatches,location:a=N.location,threshold:l=N.threshold,distance:u=N.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:r,minMatchCharLength:i,findAllMatches:s,ignoreLocation:n,location:a,threshold:l,distance:u},this.pattern=t?e:e.toLowerCase(),this.query=hl(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){let t=this.query;if(!t)return{isMatch:!1,score:1};let{includeMatches:r,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let n=0,s=[],a=0;for(let l=0,u=t.length;l<u;l+=1){let f=t[l];s.length=0,n=0;for(let c=0,d=f.length;c<d;c+=1){let m=f[c],{isMatch:g,indices:h,score:v}=m.search(e);if(g){if(n+=1,a+=v,r){let w=m.constructor.type;_l.has(w)?s=[...s,...h]:s.push(h)}}else{a=0,n=0,s.length=0;break}}if(n){let c={isMatch:!0,score:a/n};return r&&(c.indices=s),c}}return{isMatch:!1,score:1}}},Gr=[];function xl(...o){Gr.push(...o)}function Xr(o,e){for(let t=0,r=Gr.length;t<r;t+=1){let i=Gr[t];if(i.condition(o,e))return new i(o,e)}return new Uo(o,e)}var Ko={AND:"$and",OR:"$or"},Kr={PATH:"$path",PATTERN:"$val"},Jr=o=>!!(o[Ko.AND]||o[Ko.OR]),vl=o=>!!o[Kr.PATH],bl=o=>!et(o)&&Ai(o)&&!Jr(o),Li=o=>({[Ko.AND]:Object.keys(o).map(e=>({[e]:o[e]}))});function Hi(o,e,{auto:t=!0}={}){let r=i=>{let n=Object.keys(i),s=vl(i);if(!s&&n.length>1&&!Jr(i))return r(Li(i));if(bl(i)){let l=s?i[Kr.PATH]:n[0],u=s?i[Kr.PATTERN]:i[l];if(!Ue(u))throw new Error(Qa(l));let f={keyId:Hr(l),pattern:u};return t&&(f.searcher=Xr(u,e)),f}let a={children:[],operator:n[0]};return n.forEach(l=>{let u=i[l];et(u)&&u.forEach(f=>{a.children.push(r(f))})}),a};return Jr(o)||(o=Li(o)),r(o)}function yl(o,{ignoreFieldNorm:e=N.ignoreFieldNorm}){o.forEach(t=>{let r=1;t.matches.forEach(({key:i,norm:n,score:s})=>{let a=i?i.weight:null;r*=Math.pow(s===0&&a?Number.EPSILON:s,(a||1)*(e?1:n))}),t.score=r})}function wl(o,e){let t=o.matches;e.matches=[],Oe(t)&&t.forEach(r=>{if(!Oe(r.indices)||!r.indices.length)return;let{indices:i,value:n}=r,s={indices:i,value:n};r.key&&(s.key=r.key.src),r.idx>-1&&(s.refIndex=r.idx),e.matches.push(s)})}function Sl(o,e){e.score=o.score}function kl(o,e,{includeMatches:t=N.includeMatches,includeScore:r=N.includeScore}={}){let i=[];return t&&i.push(wl),r&&i.push(Sl),o.map(n=>{let{idx:s}=n,a={item:e[s],refIndex:s};return i.length&&i.forEach(l=>{l(n,a)}),a})}var tt=class{constructor(e,t={},r){this.options={...N,...t},this.options.useExtendedSearch,this._keyStore=new Dr(this.options.keys),this.setCollection(e,r)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof _o))throw new Error(Za);this._myIndex=t||Di(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){!Oe(e)||(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let t=[];for(let r=0,i=this._docs.length;r<i;r+=1){let n=this._docs[r];e(n,r)&&(this.removeAt(r),r-=1,i-=1,t.push(n))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){let{includeMatches:r,includeScore:i,shouldSort:n,sortFn:s,ignoreFieldNorm:a}=this.options,l=Ue(e)?Ue(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return yl(l,{ignoreFieldNorm:a}),n&&l.sort(s),Pi(t)&&t>-1&&(l=l.slice(0,t)),kl(l,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){let t=Xr(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:n,i:s,n:a})=>{if(!Oe(n))return;let{isMatch:l,score:u,indices:f}=t.searchIn(n);l&&i.push({item:n,idx:s,matches:[{score:u,value:n,norm:a,indices:f}]})}),i}_searchLogical(e){let t=Hi(e,this.options),r=(a,l,u)=>{if(!a.children){let{keyId:c,searcher:d}=a,m=this._findMatches({key:this._keyStore.get(c),value:this._myIndex.getValueForItemAtKeyId(l,c),searcher:d});return m&&m.length?[{idx:u,item:l,matches:m}]:[]}let f=[];for(let c=0,d=a.children.length;c<d;c+=1){let m=a.children[c],g=r(m,l,u);if(g.length)f.push(...g);else if(a.operator===Ko.AND)return[]}return f},i=this._myIndex.records,n={},s=[];return i.forEach(({$:a,i:l})=>{if(Oe(a)){let u=r(t,a,l);u.length&&(n[l]||(n[l]={idx:l,item:a,matches:[]},s.push(n[l])),u.forEach(({matches:f})=>{n[l].matches.push(...f)}))}}),s}_searchObjectList(e){let t=Xr(e,this.options),{keys:r,records:i}=this._myIndex,n=[];return i.forEach(({$:s,i:a})=>{if(!Oe(s))return;let l=[];r.forEach((u,f)=>{l.push(...this._findMatches({key:u,value:s[f],searcher:t}))}),l.length&&n.push({idx:a,item:s,matches:l})}),n}_findMatches({key:e,value:t,searcher:r}){if(!Oe(t))return[];let i=[];if(et(t))t.forEach(({v:n,i:s,n:a})=>{if(!Oe(n))return;let{isMatch:l,score:u,indices:f}=r.searchIn(n);l&&i.push({score:u,key:e,value:n,idx:s,norm:a,indices:f})});else{let{v:n,n:s}=t,{isMatch:a,score:l,indices:u}=r.searchIn(n);a&&i.push({score:l,key:e,value:n,norm:s,indices:u})}return i}};tt.version="6.6.2";tt.createIndex=Di;tt.parseIndex=ul;tt.config=N;tt.parseQuery=Hi;xl(Ur);var Yt=require("obsidian");var Vi={image:["jpg","jpeg","png","svg","gif","bmp"],video:["mp4","webm","ogv","mov","mkv"],audio:["mp3","wav","m4a","ogg","3gp","flac"],markdown:["md"],pdf:["pdf"],canvas:["canvas"],webviewer:[]},zi=["markdown","image","video","audio","pdf","canvas","webviewer"],ji=["jpg","jpeg","png","svg","gif","bmp","mp4","webm","ogv","mov","mkv","mp3","wav","m4a","ogg","3gp","flac","md","pdf","canvas"];function xo(o){for(let e of Object.keys(Vi))if(Vi[e].includes(o))return e}function vo(o){let e=o.match(/\.([^.]+$)/g);if(e)return e[0].substring(1)}function Ni(o){return["jpg","jpeg","png","svg","gif","bmp","mp4","webm","ogv","mov","mkv","mp3","wav","m4a","ogg","3gp","flac","md","pdf"].includes(o)}function $i(){let o=[];return app.vault.getFiles().forEach(e=>{xo(e.extension)==="image"&&o.push(e)}),o}function Fl(o){var r,i,n;let e=[],t=(r=app.metadataCache.getFileCache(o))!=null&&r.frontmatter?(n=(i=app.metadataCache.getFileCache(o))==null?void 0:i.frontmatter)==null?void 0:n.aliases:void 0;return t instanceof Array?e.push(...t):typeof t=="string"&&t.replace("[","").replace("]","").split(",").forEach(s=>{s.length>0&&e.push(s.trim())}),e}function Cl(o){var t;let e=(t=app.metadataCache.getFileCache(o))==null?void 0:t.frontmatter;if(e&&e.title)return e.title}function Tl(o){var t;let e=(t=app.metadataCache.getFileCache(o))==null?void 0:t.headings;if(e)return e.map(r=>r.heading)}function bo(o){return{name:o.name,basename:o.basename,path:o.path,aliases:Fl(o),title:Cl(o),headings:Tl(o),isCreated:!0,file:o,fileType:xo(o.extension),extension:o.extension}}function Wi(o,e){let t=(0,Yt.getLinkpath)(o);return e&&!t.includes("/")?(0,Yt.normalizePath)(`${this.app.fileManager.getNewFileParent("").path}/${t}`):(0,Yt.normalizePath)(t)}function Yr(o){let e=(0,Yt.getLinkpath)(o);if(e.includes("/")){let t=e.match(/.*\/(.*)/);return t?t[1]:e}return e}function Il(o){let e=vo(o)?o.replace(".md",""):o;return{name:`${Yr(e)}.md`,basename:Yr(e),path:Wi(`${e}.md`,!0),isCreated:!1,isUnresolved:!0,fileType:"markdown",extension:"md"}}function Zr(){let o=[],e=app.metadataCache.unresolvedLinks,t=[];return Object.entries(e).forEach(([r,i])=>{Object.keys(i).forEach(n=>{!vo(n)&&!t.includes(n)&&t.push(n)})}),t.forEach(r=>o.push(Il(r))),o}function Jo(o){let e=app.vault.getFiles(),t=[];return e.forEach(r=>{t.push(bo(r))}),o&&t.push(...Zr()),t}function qi(o){let e=o.match(/([^\/]+)\/[^\/]+\/*$/);return e?e[1]:"/"}var yo={includeScore:!0,includeMatches:!0,findAllMatches:!0,fieldNormWeight:1.35,threshold:.2,distance:125,useExtendedSearch:!0},Zt=class{constructor(e,t=yo){this.fuse=new tt(e,t)}rawSearch(e,t){return this.fuse.search(e,t?{limit:t}:void 0)}filteredSearch(e,t=.25,r=5){return this.rawSearch(e,r).filter(i=>i.score?i.score<t:!0)}updateSearchArray(e){this.fuse.setCollection(e)}},Ft=class extends Zt{constructor(e,t){super(e,t)}};var Yo=class extends Zt{constructor(e,t){let r=e;super(r,t)}getBestMatch(e,t){var a;let r=e.item;if((a=e.matches)!=null&&a.some(l=>l.key==="headings")){let u=e.matches.filter(f=>f.key==="headings").sort((f,c)=>{let d=f.indices[0][0]||0,m=c.indices[0][0]||0;return d-m})[0];if(u&&u.value)return r.basename}if(!r.aliases)return r.basename;let i=[];i.push(r.basename),r.aliases.forEach(l=>i.push(l));let s=new Ft(i).rawSearch(t,1)[0];return s?s.item:r.basename}},Zo=class extends Zt{constructor(e,t){let r=e!=null?e:$i();super(r,t)}},Qo=class extends Zt{constructor(e,t){super(e,t)}};var no=require("obsidian");function Ui(o){let e=o-1;return e*e*e+1}function Qr(o){return--o*o*o*o*o+1}function en(o,{delay:e=0,duration:t=400,easing:r=Ui,axis:i="y"}={}){let n=getComputedStyle(o),s=+n.opacity,a=i==="y"?"height":"width",l=parseFloat(n[a]),u=i==="y"?["top","bottom"]:["left","right"],f=u.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),c=parseFloat(n[`padding${f[0]}`]),d=parseFloat(n[`padding${f[1]}`]),m=parseFloat(n[`margin${f[0]}`]),g=parseFloat(n[`margin${f[1]}`]),h=parseFloat(n[`border${f[0]}Width`]),v=parseFloat(n[`border${f[1]}Width`]);return{delay:e,duration:t,easing:r,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*s};${a}: ${w*l}px;padding-${u[0]}: ${w*c}px;padding-${u[1]}: ${w*d}px;margin-${u[0]}: ${w*m}px;margin-${u[1]}: ${w*g}px;border-${u[0]}-width: ${w*h}px;border-${u[1]}-width: ${w*v}px;`}}function El(o){Le(o,"svelte-mdftrq",".scrollable.svelte-mdftrq{overflow-y:auto}")}function Gi(o,e,t){let r=o.slice();return r[9]=e[t],r[11]=t,r}function Xi(o){let e,t,r=[],i=new Map,n,s,a,l,u,f,c,d,m=o[2],g=v=>v[11];for(let v=0;v<m.length;v+=1){let w=Gi(o,m,v),B=g(w);i.set(B,r[v]=Ki(B,w))}let h=o[0].additionalModalInfo&&Ji(o);return{c(){var v,w,B,T;e=L("div"),t=L("div");for(let F=0;F<r.length;F+=1)r[F].c();a=C(),h&&h.c(),p(t,"class",n=((v=o[0].suggestionClass)!=null?v:"suggestion")+" "+((w=o[0].additionalClasses)!=null?w:"")+" svelte-mdftrq"),p(t,"style",s=(B=o[0].style)!=null?B:""),Fe(t,"scrollable",o[0].isScrollable),p(e,"class",l=Tr((T=o[0].containerClass)!=null?T:"suggestion-container popover suggestion-popover")+" svelte-mdftrq")},m(v,w){x(v,e,w),S(e,t);for(let B=0;B<r.length;B+=1)r[B]&&r[B].m(t,null);o[6](t),S(e,a),h&&h.m(e,null),f=!0,c||(d=Pe(e,"mousedown",Ol),c=!0)},p(v,w){var B,T,F,A;o=v,w&14&&(m=o[2],ye(),r=Kt(r,w,g,1,o,m,i,t,Xt,Ki,null,Gi),we()),(!f||w&1&&n!==(n=((B=o[0].suggestionClass)!=null?B:"suggestion")+" "+((T=o[0].additionalClasses)!=null?T:"")+" svelte-mdftrq"))&&p(t,"class",n),(!f||w&1&&s!==(s=(F=o[0].style)!=null?F:""))&&p(t,"style",s),(!f||w&1)&&Fe(t,"scrollable",o[0].isScrollable),o[0].additionalModalInfo?h?h.p(o,w):(h=Ji(o),h.c(),h.m(e,null)):h&&(h.d(1),h=null),(!f||w&1&&l!==(l=Tr((A=o[0].containerClass)!=null?A:"suggestion-container popover suggestion-popover")+" svelte-mdftrq"))&&p(e,"class",l)},i(v){if(!f){for(let w=0;w<m.length;w+=1)b(r[w]);Gt(()=>{!f||(u||(u=Br(e,en,{duration:200,easing:Qr},!0)),u.run(1))}),f=!0}},o(v){for(let w=0;w<r.length;w+=1)k(r[w]);u||(u=Br(e,en,{duration:200,easing:Qr},!1)),u.run(0),f=!1},d(v){v&&_(e);for(let w=0;w<r.length;w+=1)r[w].d();o[6](null),h&&h.d(),v&&u&&u.end(),c=!1,d()}}}function Ki(o,e){let t,r,i,n,s=[{index:e[11]},{suggestion:e[9]},{textInputSuggester:e[1]},{selectedItemIndex:e[3]},e[1].getDisplayElementProps(e[9])];var a=e[1].getDisplayElementComponentType();function l(u){let f={};for(let c=0;c<s.length;c+=1)f=P(f,s[c]);return{props:f}}return a&&(r=Lr(a,l(e))),{key:o,first:null,c(){t=be(),r&&O(r.$$.fragment),i=be(),this.first=t},m(u,f){x(u,t,f),r&&M(r,u,f),x(u,i,f),n=!0},p(u,f){e=u;let c=f&14?J(s,[f&4&&{index:e[11]},f&4&&{suggestion:e[9]},f&2&&{textInputSuggester:e[1]},f&8&&{selectedItemIndex:e[3]},f&6&&Z(e[1].getDisplayElementProps(e[9]))]):{};if(f&2&&a!==(a=e[1].getDisplayElementComponentType())){if(r){ye();let d=r;k(d.$$.fragment,1,0,()=>{I(d,1)}),we()}a?(r=Lr(a,l(e)),O(r.$$.fragment),b(r.$$.fragment,1),M(r,i.parentNode,i)):r=null}else a&&r.$set(c)},i(u){n||(r&&b(r.$$.fragment,u),n=!0)},o(u){r&&k(r.$$.fragment,u),n=!1},d(u){u&&_(t),u&&_(i),r&&I(r,u)}}}function Ji(o){let e,t=o[0].additionalModalInfo.outerHTML+"";return{c(){e=L("div"),p(e,"class","suggester-additional-info")},m(r,i){x(r,e,i),e.innerHTML=t},p(r,i){i&1&&t!==(t=r[0].additionalModalInfo.outerHTML+"")&&(e.innerHTML=t)},d(r){r&&_(e)}}}function Ml(o){var i;let e,t,r=((i=o[2])==null?void 0:i.length)>0&&Xi(o);return{c(){r&&r.c(),e=be()},m(n,s){r&&r.m(n,s),x(n,e,s),t=!0},p(n,[s]){var a;((a=n[2])==null?void 0:a.length)>0?r?(r.p(n,s),s&4&&b(r,1)):(r=Xi(n),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(ye(),k(r,1,1,()=>{r=null}),we())},i(n){t||(b(r),t=!0)},o(n){k(r),t=!1},d(n){r&&r.d(n),n&&_(e)}}}var Ol=o=>o.preventDefault();function Ll(o,e,t){let r,{options:i}=e,{textInputSuggester:n}=e,s=n.getSuggester(),a=[],l=0;s.suggestionsStore.subscribe(d=>{let m=d||[];m.length!==l&&(l=m.length,t(2,a=m))});let u;s.selectedItemIndexStore.subscribe(d=>t(3,u=d));let f=s.suggestionsContainer;ho(o,f,d=>t(4,r=d));function c(d){ct[d?"unshift":"push"](()=>{r=d,f.set(r)})}return o.$$set=d=>{"options"in d&&t(0,i=d.options),"textInputSuggester"in d&&t(1,n=d.textInputSuggester)},[i,n,a,u,r,f,c]}var tn=class extends R{constructor(e){super(),H(this,e,Ll,Ml,D,{options:0,textInputSuggester:1},El)}},Yi=tn;var ae="top",de="bottom",pe="right",ce="left",er="auto",pt=[ae,de,pe,ce],ot="start",Ct="end",Zi="clippingParents",tr="viewport",Qt="popper",Qi="reference",on=pt.reduce(function(o,e){return o.concat([e+"-"+ot,e+"-"+Ct])},[]),or=[].concat(pt,[er]).reduce(function(o,e){return o.concat([e,e+"-"+ot,e+"-"+Ct])},[]),Pl="beforeRead",Al="read",Bl="afterRead",Rl="beforeMain",Dl="main",Hl="afterMain",Vl="beforeWrite",zl="write",jl="afterWrite",es=[Pl,Al,Bl,Rl,Dl,Hl,Vl,zl,jl];function he(o){return o?(o.nodeName||"").toLowerCase():null}function re(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var e=o.ownerDocument;return e&&e.defaultView||window}return o}function Be(o){var e=re(o).Element;return o instanceof e||o instanceof Element}function me(o){var e=re(o).HTMLElement;return o instanceof e||o instanceof HTMLElement}function eo(o){if(typeof ShadowRoot=="undefined")return!1;var e=re(o).ShadowRoot;return o instanceof e||o instanceof ShadowRoot}function Nl(o){var e=o.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},n=e.elements[t];!me(n)||!he(n)||(Object.assign(n.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?n.removeAttribute(s):n.setAttribute(s,a===!0?"":a)}))})}function Wl(o){var e=o.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],n=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!me(i)||!he(i)||(Object.assign(i.style,a),Object.keys(n).forEach(function(l){i.removeAttribute(l)}))})}}var ts={name:"applyStyles",enabled:!0,phase:"write",fn:Nl,effect:Wl,requires:["computeStyles"]};function _e(o){return o.split("-")[0]}var je=Math.max,Tt=Math.min,rt=Math.round;function to(){var o=navigator.userAgentData;return o!=null&&o.brands&&Array.isArray(o.brands)?o.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function wo(){return!/^((?!chrome|android).)*safari/i.test(to())}function Re(o,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=o.getBoundingClientRect(),i=1,n=1;e&&me(o)&&(i=o.offsetWidth>0&&rt(r.width)/o.offsetWidth||1,n=o.offsetHeight>0&&rt(r.height)/o.offsetHeight||1);var s=Be(o)?re(o):window,a=s.visualViewport,l=!wo()&&t,u=(r.left+(l&&a?a.offsetLeft:0))/i,f=(r.top+(l&&a?a.offsetTop:0))/n,c=r.width/i,d=r.height/n;return{width:c,height:d,top:f,right:u+c,bottom:f+d,left:u,x:u,y:f}}function It(o){var e=Re(o),t=o.offsetWidth,r=o.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:o.offsetLeft,y:o.offsetTop,width:t,height:r}}function So(o,e){var t=e.getRootNode&&e.getRootNode();if(o.contains(e))return!0;if(t&&eo(t)){var r=e;do{if(r&&o.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ce(o){return re(o).getComputedStyle(o)}function rn(o){return["table","td","th"].indexOf(he(o))>=0}function Se(o){return((Be(o)?o.ownerDocument:o.document)||window.document).documentElement}function nt(o){return he(o)==="html"?o:o.assignedSlot||o.parentNode||(eo(o)?o.host:null)||Se(o)}function os(o){return!me(o)||Ce(o).position==="fixed"?null:o.offsetParent}function $l(o){var e=/firefox/i.test(to()),t=/Trident/i.test(to());if(t&&me(o)){var r=Ce(o);if(r.position==="fixed")return null}var i=nt(o);for(eo(i)&&(i=i.host);me(i)&&["html","body"].indexOf(he(i))<0;){var n=Ce(i);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||e&&n.willChange==="filter"||e&&n.filter&&n.filter!=="none")return i;i=i.parentNode}return null}function Ne(o){for(var e=re(o),t=os(o);t&&rn(t)&&Ce(t).position==="static";)t=os(t);return t&&(he(t)==="html"||he(t)==="body"&&Ce(t).position==="static")?e:t||$l(o)||e}function Et(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function Mt(o,e,t){return je(o,Tt(e,t))}function rs(o,e,t){var r=Mt(o,e,t);return r>t?t:r}function ko(){return{top:0,right:0,bottom:0,left:0}}function Fo(o){return Object.assign({},ko(),o)}function Co(o,e){return e.reduce(function(t,r){return t[r]=o,t},{})}var ql=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Fo(typeof e!="number"?e:Co(e,pt))};function Ul(o){var e,t=o.state,r=o.name,i=o.options,n=t.elements.arrow,s=t.modifiersData.popperOffsets,a=_e(t.placement),l=Et(a),u=[ce,pe].indexOf(a)>=0,f=u?"height":"width";if(!(!n||!s)){var c=ql(i.padding,t),d=It(n),m=l==="y"?ae:ce,g=l==="y"?de:pe,h=t.rects.reference[f]+t.rects.reference[l]-s[l]-t.rects.popper[f],v=s[l]-t.rects.reference[l],w=Ne(n),B=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,T=h/2-v/2,F=c[m],A=B-d[f]-c[g],W=B/2-d[f]/2+T,E=Mt(F,W,A),z=l;t.modifiersData[r]=(e={},e[z]=E,e.centerOffset=E-W,e)}}function Gl(o){var e=o.state,t=o.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!So(e.elements.popper,i)||(e.elements.arrow=i))}var ns={name:"arrow",enabled:!0,phase:"main",fn:Ul,effect:Gl,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function De(o){return o.split("-")[1]}var Xl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Kl(o,e){var t=o.x,r=o.y,i=e.devicePixelRatio||1;return{x:rt(t*i)/i||0,y:rt(r*i)/i||0}}function is(o){var e,t=o.popper,r=o.popperRect,i=o.placement,n=o.variation,s=o.offsets,a=o.position,l=o.gpuAcceleration,u=o.adaptive,f=o.roundOffsets,c=o.isFixed,d=s.x,m=d===void 0?0:d,g=s.y,h=g===void 0?0:g,v=typeof f=="function"?f({x:m,y:h}):{x:m,y:h};m=v.x,h=v.y;var w=s.hasOwnProperty("x"),B=s.hasOwnProperty("y"),T=ce,F=ae,A=window;if(u){var W=Ne(t),E="clientHeight",z="clientWidth";if(W===re(t)&&(W=Se(t),Ce(W).position!=="static"&&a==="absolute"&&(E="scrollHeight",z="scrollWidth")),W=W,i===ae||(i===ce||i===pe)&&n===Ct){F=de;var V=c&&W===A&&A.visualViewport?A.visualViewport.height:W[E];h-=V-r.height,h*=l?1:-1}if(i===ce||(i===ae||i===de)&&n===Ct){T=pe;var Q=c&&W===A&&A.visualViewport?A.visualViewport.width:W[z];m-=Q-r.width,m*=l?1:-1}}var Y=Object.assign({position:a},u&&Xl),ne=f===!0?Kl({x:m,y:h},re(t)):{x:m,y:h};if(m=ne.x,h=ne.y,l){var ie;return Object.assign({},Y,(ie={},ie[F]=B?"0":"",ie[T]=w?"0":"",ie.transform=(A.devicePixelRatio||1)<=1?"translate("+m+"px, "+h+"px)":"translate3d("+m+"px, "+h+"px, 0)",ie))}return Object.assign({},Y,(e={},e[F]=B?h+"px":"",e[T]=w?m+"px":"",e.transform="",e))}function Jl(o){var e=o.state,t=o.options,r=t.gpuAcceleration,i=r===void 0?!0:r,n=t.adaptive,s=n===void 0?!0:n,a=t.roundOffsets,l=a===void 0?!0:a,u={placement:_e(e.placement),variation:De(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,is(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,is(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var ss={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Jl,data:{}};var rr={passive:!0};function Yl(o){var e=o.state,t=o.instance,r=o.options,i=r.scroll,n=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=re(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return n&&u.forEach(function(f){f.addEventListener("scroll",t.update,rr)}),a&&l.addEventListener("resize",t.update,rr),function(){n&&u.forEach(function(f){f.removeEventListener("scroll",t.update,rr)}),a&&l.removeEventListener("resize",t.update,rr)}}var as={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Yl,data:{}};var Zl={left:"right",right:"left",bottom:"top",top:"bottom"};function oo(o){return o.replace(/left|right|bottom|top/g,function(e){return Zl[e]})}var Ql={start:"end",end:"start"};function nr(o){return o.replace(/start|end/g,function(e){return Ql[e]})}function Ot(o){var e=re(o),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Lt(o){return Re(Se(o)).left+Ot(o).scrollLeft}function nn(o,e){var t=re(o),r=Se(o),i=t.visualViewport,n=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){n=i.width,s=i.height;var u=wo();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:n,height:s,x:a+Lt(o),y:l}}function sn(o){var e,t=Se(o),r=Ot(o),i=(e=o.ownerDocument)==null?void 0:e.body,n=je(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=je(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Lt(o),l=-r.scrollTop;return Ce(i||t).direction==="rtl"&&(a+=je(t.clientWidth,i?i.clientWidth:0)-n),{width:n,height:s,x:a,y:l}}function Pt(o){var e=Ce(o),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function ir(o){return["html","body","#document"].indexOf(he(o))>=0?o.ownerDocument.body:me(o)&&Pt(o)?o:ir(nt(o))}function dt(o,e){var t;e===void 0&&(e=[]);var r=ir(o),i=r===((t=o.ownerDocument)==null?void 0:t.body),n=re(r),s=i?[n].concat(n.visualViewport||[],Pt(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(dt(nt(s)))}function ro(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function ef(o,e){var t=Re(o,!1,e==="fixed");return t.top=t.top+o.clientTop,t.left=t.left+o.clientLeft,t.bottom=t.top+o.clientHeight,t.right=t.left+o.clientWidth,t.width=o.clientWidth,t.height=o.clientHeight,t.x=t.left,t.y=t.top,t}function ls(o,e,t){return e===tr?ro(nn(o,t)):Be(e)?ef(e,t):ro(sn(Se(o)))}function tf(o){var e=dt(nt(o)),t=["absolute","fixed"].indexOf(Ce(o).position)>=0,r=t&&me(o)?Ne(o):o;return Be(r)?e.filter(function(i){return Be(i)&&So(i,r)&&he(i)!=="body"}):[]}function an(o,e,t,r){var i=e==="clippingParents"?tf(o):[].concat(e),n=[].concat(i,[t]),s=n[0],a=n.reduce(function(l,u){var f=ls(o,u,r);return l.top=je(f.top,l.top),l.right=Tt(f.right,l.right),l.bottom=Tt(f.bottom,l.bottom),l.left=je(f.left,l.left),l},ls(o,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function To(o){var e=o.reference,t=o.element,r=o.placement,i=r?_e(r):null,n=r?De(r):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(i){case ae:l={x:s,y:e.y-t.height};break;case de:l={x:s,y:e.y+e.height};break;case pe:l={x:e.x+e.width,y:a};break;case ce:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?Et(i):null;if(u!=null){var f=u==="y"?"height":"width";switch(n){case ot:l[u]=l[u]-(e[f]/2-t[f]/2);break;case Ct:l[u]=l[u]+(e[f]/2-t[f]/2);break;default:}}return l}function We(o,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?o.placement:r,n=t.strategy,s=n===void 0?o.strategy:n,a=t.boundary,l=a===void 0?Zi:a,u=t.rootBoundary,f=u===void 0?tr:u,c=t.elementContext,d=c===void 0?Qt:c,m=t.altBoundary,g=m===void 0?!1:m,h=t.padding,v=h===void 0?0:h,w=Fo(typeof v!="number"?v:Co(v,pt)),B=d===Qt?Qi:Qt,T=o.rects.popper,F=o.elements[g?B:d],A=an(Be(F)?F:F.contextElement||Se(o.elements.popper),l,f,s),W=Re(o.elements.reference),E=To({reference:W,element:T,strategy:"absolute",placement:i}),z=ro(Object.assign({},T,E)),V=d===Qt?z:W,Q={top:A.top-V.top+w.top,bottom:V.bottom-A.bottom+w.bottom,left:A.left-V.left+w.left,right:V.right-A.right+w.right},Y=o.modifiersData.offset;if(d===Qt&&Y){var ne=Y[i];Object.keys(Q).forEach(function(ie){var le=[pe,de].indexOf(ie)>=0?1:-1,oe=[ae,de].indexOf(ie)>=0?"y":"x";Q[ie]+=ne[oe]*le})}return Q}function ln(o,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,n=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?or:l,f=De(r),c=f?a?on:on.filter(function(g){return De(g)===f}):pt,d=c.filter(function(g){return u.indexOf(g)>=0});d.length===0&&(d=c);var m=d.reduce(function(g,h){return g[h]=We(o,{placement:h,boundary:i,rootBoundary:n,padding:s})[_e(h)],g},{});return Object.keys(m).sort(function(g,h){return m[g]-m[h]})}function of(o){if(_e(o)===er)return[];var e=oo(o);return[nr(o),e,nr(e)]}function rf(o){var e=o.state,t=o.options,r=o.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,n=i===void 0?!0:i,s=t.altAxis,a=s===void 0?!0:s,l=t.fallbackPlacements,u=t.padding,f=t.boundary,c=t.rootBoundary,d=t.altBoundary,m=t.flipVariations,g=m===void 0?!0:m,h=t.allowedAutoPlacements,v=e.options.placement,w=_e(v),B=w===v,T=l||(B||!g?[oo(v)]:of(v)),F=[v].concat(T).reduce(function(at,Ee){return at.concat(_e(Ee)===er?ln(e,{placement:Ee,boundary:f,rootBoundary:c,padding:u,flipVariations:g,allowedAutoPlacements:h}):Ee)},[]),A=e.rects.reference,W=e.rects.popper,E=new Map,z=!0,V=F[0],Q=0;Q<F.length;Q++){var Y=F[Q],ne=_e(Y),ie=De(Y)===ot,le=[ae,de].indexOf(ne)>=0,oe=le?"width":"height",fe=We(e,{placement:Y,boundary:f,rootBoundary:c,altBoundary:d,padding:u}),xe=le?ie?pe:ce:ie?de:ae;A[oe]>W[oe]&&(xe=oo(xe));var qe=oo(xe),Ke=[];if(n&&Ke.push(fe[ne]<=0),a&&Ke.push(fe[xe]<=0,fe[qe]<=0),Ke.every(function(at){return at})){V=Y,z=!1;break}E.set(Y,Ke)}if(z)for(var ve=g?3:1,st=function(Ee){var Ve=F.find(function(Ht){var Me=E.get(Ht);if(Me)return Me.slice(0,Ee).every(function(lt){return lt})});if(Ve)return V=Ve,"break"},He=ve;He>0;He--){var Je=st(He);if(Je==="break")break}e.placement!==V&&(e.modifiersData[r]._skip=!0,e.placement=V,e.reset=!0)}}var fs={name:"flip",enabled:!0,phase:"main",fn:rf,requiresIfExists:["offset"],data:{_skip:!1}};function us(o,e,t){return t===void 0&&(t={x:0,y:0}),{top:o.top-e.height-t.y,right:o.right-e.width+t.x,bottom:o.bottom-e.height+t.y,left:o.left-e.width-t.x}}function cs(o){return[ae,pe,de,ce].some(function(e){return o[e]>=0})}function nf(o){var e=o.state,t=o.name,r=e.rects.reference,i=e.rects.popper,n=e.modifiersData.preventOverflow,s=We(e,{elementContext:"reference"}),a=We(e,{altBoundary:!0}),l=us(s,r),u=us(a,i,n),f=cs(l),c=cs(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:f,hasPopperEscaped:c},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":c})}var ps={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:nf};function sf(o,e,t){var r=_e(o),i=[ce,ae].indexOf(r)>=0?-1:1,n=typeof t=="function"?t(Object.assign({},e,{placement:o})):t,s=n[0],a=n[1];return s=s||0,a=(a||0)*i,[ce,pe].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function af(o){var e=o.state,t=o.options,r=o.name,i=t.offset,n=i===void 0?[0,0]:i,s=or.reduce(function(f,c){return f[c]=sf(c,e.rects,n),f},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}var ds={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:af};function lf(o){var e=o.state,t=o.name;e.modifiersData[t]=To({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var ms={name:"popperOffsets",enabled:!0,phase:"read",fn:lf,data:{}};function fn(o){return o==="x"?"y":"x"}function ff(o){var e=o.state,t=o.options,r=o.name,i=t.mainAxis,n=i===void 0?!0:i,s=t.altAxis,a=s===void 0?!1:s,l=t.boundary,u=t.rootBoundary,f=t.altBoundary,c=t.padding,d=t.tether,m=d===void 0?!0:d,g=t.tetherOffset,h=g===void 0?0:g,v=We(e,{boundary:l,rootBoundary:u,padding:c,altBoundary:f}),w=_e(e.placement),B=De(e.placement),T=!B,F=Et(w),A=fn(F),W=e.modifiersData.popperOffsets,E=e.rects.reference,z=e.rects.popper,V=typeof h=="function"?h(Object.assign({},e.rects,{placement:e.placement})):h,Q=typeof V=="number"?{mainAxis:V,altAxis:V}:Object.assign({mainAxis:0,altAxis:0},V),Y=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ne={x:0,y:0};if(!!W){if(n){var ie,le=F==="y"?ae:ce,oe=F==="y"?de:pe,fe=F==="y"?"height":"width",xe=W[F],qe=xe+v[le],Ke=xe-v[oe],ve=m?-z[fe]/2:0,st=B===ot?E[fe]:z[fe],He=B===ot?-z[fe]:-E[fe],Je=e.elements.arrow,at=m&&Je?It(Je):{width:0,height:0},Ee=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ko(),Ve=Ee[le],Ht=Ee[oe],Me=Mt(0,E[fe],at[fe]),lt=T?E[fe]/2-ve-Me-Ve-Q.mainAxis:st-Me-Ve-Q.mainAxis,Vt=T?-E[fe]/2+ve+Me+Ht+Q.mainAxis:He+Me+Ht+Q.mainAxis,fo=e.elements.arrow&&Ne(e.elements.arrow),zt=fo?F==="y"?fo.clientTop||0:fo.clientLeft||0:0,Do=(ie=Y==null?void 0:Y[F])!=null?ie:0,jt=xe+lt-Do-zt,xr=xe+Vt-Do,Ye=Mt(m?Tt(qe,jt):qe,xe,m?je(Ke,xr):Ke);W[F]=Ye,ne[F]=Ye-xe}if(a){var Ho,ft=F==="x"?ae:ce,vr=F==="x"?de:pe,Te=W[A],Nt=A==="y"?"height":"width",Ze=Te+v[ft],Vo=Te-v[vr],ut=[ae,ce].indexOf(w)!==-1,bt=(Ho=Y==null?void 0:Y[A])!=null?Ho:0,ze=ut?Ze:Te-E[Nt]-z[Nt]-bt+Q.altAxis,yt=ut?Te+E[Nt]+z[Nt]-bt-Q.altAxis:Vo,pi=m&&ut?rs(ze,Te,yt):Mt(m?ze:Ze,Te,m?yt:Vo);W[A]=pi,ne[A]=pi-Te}e.modifiersData[r]=ne}}var gs={name:"preventOverflow",enabled:!0,phase:"main",fn:ff,requiresIfExists:["offset"]};function un(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}function cn(o){return o===re(o)||!me(o)?Ot(o):un(o)}function uf(o){var e=o.getBoundingClientRect(),t=rt(e.width)/o.offsetWidth||1,r=rt(e.height)/o.offsetHeight||1;return t!==1||r!==1}function pn(o,e,t){t===void 0&&(t=!1);var r=me(e),i=me(e)&&uf(e),n=Se(e),s=Re(o,i,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((he(e)!=="body"||Pt(n))&&(a=cn(e)),me(e)?(l=Re(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):n&&(l.x=Lt(n))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function cf(o){var e=new Map,t=new Set,r=[];o.forEach(function(n){e.set(n.name,n)});function i(n){t.add(n.name);var s=[].concat(n.requires||[],n.requiresIfExists||[]);s.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&i(l)}}),r.push(n)}return o.forEach(function(n){t.has(n.name)||i(n)}),r}function dn(o){var e=cf(o);return es.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function mn(o){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(o())})})),e}}function gn(o){var e=o.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var hs={placement:"bottom",modifiers:[],strategy:"absolute"};function _s(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function xs(o){o===void 0&&(o={});var e=o,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,n=i===void 0?hs:i;return function(a,l,u){u===void 0&&(u=n);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},hs,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},c=[],d=!1,m={state:f,setOptions:function(w){var B=typeof w=="function"?w(f.options):w;h(),f.options=Object.assign({},n,f.options,B),f.scrollParents={reference:Be(a)?dt(a):a.contextElement?dt(a.contextElement):[],popper:dt(l)};var T=dn(gn([].concat(r,f.options.modifiers)));return f.orderedModifiers=T.filter(function(F){return F.enabled}),g(),m.update()},forceUpdate:function(){if(!d){var w=f.elements,B=w.reference,T=w.popper;if(!!_s(B,T)){f.rects={reference:pn(B,Ne(T),f.options.strategy==="fixed"),popper:It(T)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(Q){return f.modifiersData[Q.name]=Object.assign({},Q.data)});for(var F=0;F<f.orderedModifiers.length;F++){if(f.reset===!0){f.reset=!1,F=-1;continue}var A=f.orderedModifiers[F],W=A.fn,E=A.options,z=E===void 0?{}:E,V=A.name;typeof W=="function"&&(f=W({state:f,options:z,name:V,instance:m})||f)}}}},update:mn(function(){return new Promise(function(v){m.forceUpdate(),v(f)})}),destroy:function(){h(),d=!0}};if(!_s(a,l))return m;m.setOptions(u).then(function(v){!d&&u.onFirstUpdate&&u.onFirstUpdate(v)});function g(){f.orderedModifiers.forEach(function(v){var w=v.name,B=v.options,T=B===void 0?{}:B,F=v.effect;if(typeof F=="function"){var A=F({state:f,name:w,instance:m,options:T}),W=function(){};c.push(A||W)}})}function h(){c.forEach(function(v){return v()}),c=[]}return m}}var pf=[as,ms,ss,ts,ds,fs,gs,ns,ps],hn=xs({defaultModifiers:pf});var _n=class{constructor(e,t){this.ISuggester=e,this.suggestionsStore=Ae(),this.selectedItemIndexStore=Ae(),this.suggestionsContainer=Ae(),this.selectedItemIndexStore.subscribe(r=>this.selectedItemIndex=r),this.suggestionsStore.subscribe(r=>this.suggestions=r),this.setSuggestions([]),this.setSelectedItemIndex(0),t.register([],"ArrowUp",r=>{r.preventDefault(),this.setSelectedItemIndex(this.selectedItemIndex-1),this.ISuggester.scrollSelectedItemIntoView()}),t.register([],"ArrowDown",r=>{r.preventDefault(),this.setSelectedItemIndex(this.selectedItemIndex+1),this.ISuggester.scrollSelectedItemIntoView()}),t.register([],"Enter",r=>{r.preventDefault(),this.ISuggester.useSelectedItem(this.getSelectedItem())})}setSuggestions(e){this.selectedItemIndexStore.set(0),this.suggestionsStore.set(e)}getSuggestions(){return this.suggestions}getSelectedItem(){return this.suggestions[this.selectedItemIndex]}getSelectedItemIndex(){return this.selectedItemIndex}getSuggestionByIndex(e){return this.suggestions[e]}setSelectedItemIndex(e){e>=this.suggestions.length?this.selectedItemIndexStore.set(0):e<0?this.selectedItemIndexStore.set(this.suggestions.length-1):this.selectedItemIndexStore.set(e)}},$e=class{additionalCleaning(){}onOpen(){}onClose(){}constructor(e,t,r,i,n){this.app=e,this.inputEl=t,this.scope=new no.Scope(this.app.scope),this.suggester=new _n(this,this.scope);let s=n||200;this.inputListener=(0,no.debounce)(async a=>{let l=a.target;l.value!==this.lastValue&&(this.lastValue=l.value,await this.onInput())},s,!0),this.inputEl.addEventListener("input",this.inputListener),this.inputEl.addEventListener("blur",this.close.bind(this)),this.scope.register([],"escape",this.close.bind(this)),this.viewOptions=i!=null?i:{},this.suggestionParentContainer=r,this.closingAnimationRunning=!1}async onInput(){let e=this.inputEl.value,t=await this.getSuggestions(e);this.suggester.setSuggestions([]),t&&t.length>0?(this.suggester.setSuggestions(t),this.open()):(this.onNoSuggestion(),this.close())}onNoSuggestion(){this.close()}getContainerEl(){return this.suggestionParentContainer}open(){this.closingAnimationRunning&&this.abortClosingAnimation(),!this.suggesterView&&(this.suggestionContainer=this.getContainerEl(),this.app.keymap.pushScope(this.scope),this.suggesterView=new Yi({target:this.suggestionContainer,props:{textInputSuggester:this,options:this.viewOptions},intro:!0}),this.onOpen())}close(){this.app.keymap.popScope(this.scope),this.suggester.setSuggestions([]),this.suggesterView&&(this.closingAnimationRunning=!0,this.closingAnimationTimeout=setTimeout(()=>{var e;(e=this.suggesterView)==null||e.$destroy(),this.suggesterView=void 0,this.closingAnimationRunning=!1},200)),this.additionalCleaning(),this.onClose()}abortClosingAnimation(){var e;clearTimeout(this.closingAnimationTimeout),(e=this.suggesterView)==null||e.$destroy(),this.suggesterView=void 0,this.closingAnimationRunning=!1}destroy(){this.close(),this.inputEl.removeEventListener("input",this.inputListener),this.inputEl.removeEventListener("focus",this.inputListener)}scrollSelectedItemIntoView(){var e;(e=te(this.suggester.suggestionsContainer).children[this.suggester.getSelectedItemIndex()])==null||e.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}getSuggester(){return this.suggester}setInput(e,t=!0){this.inputEl.value=e,t&&this.inputEl.dispatchEvent(new Event("input"))}},mt=class extends $e{constructor(t,r,i){super(t,r,t.dom.appContainerEl,i)}getContainerEl(){if(document.contains(this.popperWrapper))return this.popperWrapper;this.popperWrapper=this.suggestionParentContainer.createDiv("popper-wrapper"),this.popperWrapper.style.zIndex="var(--layer-menu)";let t=no.Platform.isPhone,r=t?document.body:this.inputEl;return t&&(this.popperWrapper.style.width="100%"),this.popperInstance=hn(r,this.popperWrapper,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.popperWrapper}additionalCleaning(){this.popperInstance&&this.popperInstance.destroy(),document.body.contains(this.popperWrapper)&&this.popperWrapper.detach()}};var At=["accessibility","activity","air-vent","airplay","alarm-check","alarm-clock-off","alarm-clock","alarm-minus","alarm-plus","album","alert-circle","alert-octagon","alert-triangle","align-center-horizontal","align-center-vertical","align-center","align-end-horizontal","align-end-vertical","align-horizontal-distribute-center","align-horizontal-distribute-end","align-horizontal-distribute-start","align-horizontal-justify-center","align-horizontal-justify-end","align-horizontal-justify-start","align-horizontal-space-around","align-horizontal-space-between","align-justify","align-left","align-right","align-start-horizontal","align-start-vertical","align-vertical-distribute-center","align-vertical-distribute-end","align-vertical-distribute-start","align-vertical-justify-center","align-vertical-justify-end","align-vertical-justify-start","align-vertical-space-around","align-vertical-space-between","anchor","angry","annoyed","aperture","apple","archive-restore","archive","armchair","arrow-big-down","arrow-big-left","arrow-big-right","arrow-big-up","arrow-down-circle","arrow-down-left","arrow-down-right","arrow-down","arrow-left-circle","arrow-left-right","arrow-left","arrow-right-circle","arrow-right","arrow-up-circle","arrow-up-down","arrow-up-left","arrow-up-right","arrow-up","asterisk","at-sign","award","axe","axis-3d","baby","backpack","baggage-claim","banana","banknote","bar-chart-2","bar-chart-3","bar-chart-4","bar-chart-horizontal","bar-chart","baseline","bath","battery-charging","battery-full","battery-low","battery-medium","battery","beaker","bed-double","bed-single","bed","beer","bell-minus","bell-off","bell-plus","bell-ring","bell","bike","binary","bitcoin","bluetooth-connected","bluetooth-off","bluetooth-searching","bluetooth","bold","bomb","bone","book-open-check","book-open","book","bookmark-minus","bookmark-plus","bookmark","bot","box-select","box","boxes","briefcase","brush","bug","building-2","building","bus","cake","calculator","calendar-check-2","calendar-check","calendar-clock","calendar-days","calendar-heart","calendar-minus","calendar-off","calendar-plus","calendar-range","calendar-search","calendar-x","calendar","camera-off","camera","car","carrot","cast","check-circle-2","check-circle","check-square","check","chef-hat","cherry","chevron-down","chevron-first","chevron-last","chevron-left","chevron-right","chevron-up","chevrons-down-up","chevrons-down","chevrons-left-right","chevrons-left","chevrons-right-left","chevrons-right","chevrons-up-down","chevrons-up","chrome","cigarette-off","cigarette","circle-dot","circle-ellipsis","circle-slashed","circle","citrus","clapperboard","clipboard-check","clipboard-copy","clipboard-edit","clipboard-list","clipboard-signature","clipboard-type","clipboard-x","clipboard","clock-1","clock-10","clock-11","clock-12","clock-2","clock-3","clock-4","clock-5","clock-6","clock-7","clock-8","clock-9","clock","cloud-cog","cloud-drizzle","cloud-fog","cloud-hail","cloud-lightning","cloud-moon-rain","cloud-moon","cloud-off","cloud-rain-wind","cloud-rain","cloud-snow","cloud-sun-rain","cloud-sun","cloud","cloudy","clover","code-2","code","codepen","codesandbox","coffee","cog","coins","columns","command","compass","component","concierge-bell","contact","contrast","cookie","copy","copyleft","copyright","corner-down-left","corner-down-right","corner-left-down","corner-left-up","corner-right-down","corner-right-up","corner-up-left","corner-up-right","cpu","credit-card","croissant","crop","cross","crosshair","crown","cup-soda","curly-braces","currency","database","delete","diamond","dice-1","dice-2","dice-3","dice-4","dice-5","dice-6","dices","diff","disc","divide-circle","divide-square","divide","dollar-sign","download-cloud","download","dribbble","droplet","droplets","drumstick","edit-2","edit-3","edit","egg-fried","egg","equal-not","equal","eraser","euro","expand","external-link","eye-off","eye","facebook","factory","fan","fast-forward","feather","figma","file-archive","file-audio-2","file-audio","file-axis-3d","file-badge-2","file-badge","file-bar-chart-2","file-bar-chart","file-box","file-check-2","file-check","file-clock","file-code","file-cog-2","file-cog","file-diff","file-digit","file-down","file-edit","file-heart","file-image","file-input","file-json-2","file-json","file-key-2","file-key","file-line-chart","file-lock-2","file-lock","file-minus-2","file-minus","file-output","file-pie-chart","file-plus-2","file-plus","file-question","file-scan","file-search-2","file-search","file-signature","file-spreadsheet","file-symlink","file-terminal","file-text","file-type-2","file-type","file-up","file-video-2","file-video","file-volume-2","file-volume","file-warning","file-x-2","file-x","file","files","film","filter","fingerprint","flag-off","flag-triangle-left","flag-triangle-right","flag","flame","flashlight-off","flashlight","flask-conical","flask-round","flip-horizontal-2","flip-horizontal","flip-vertical-2","flip-vertical","flower-2","flower","focus","folder-archive","folder-check","folder-clock","folder-closed","folder-cog-2","folder-cog","folder-down","folder-edit","folder-heart","folder-input","folder-key","folder-lock","folder-minus","folder-open","folder-output","folder-plus","folder-search-2","folder-search","folder-symlink","folder-tree","folder-up","folder-x","folder","folders","form-input","forward","frame","framer","frown","fuel","function-square","gamepad-2","gamepad","gauge","gavel","gem","ghost","gift","git-branch-plus","git-branch","git-commit","git-compare","git-fork","git-merge","git-pull-request-closed","git-pull-request-draft","git-pull-request","github","gitlab","glass-water","glasses","globe-2","globe","grab","graduation-cap","grape","grid","grip-horizontal","grip-vertical","hammer","hand-metal","hand","hard-drive","hard-hat","hash","haze","headphones","heart-crack","heart-handshake","heart-off","heart-pulse","heart","help-circle","hexagon","highlighter","history","home","hourglass","ice-cream","image-minus","image-off","image-plus","image","import","inbox","indent","indian-rupee","infinity","info","inspect","instagram","italic","japanese-yen","joystick","key","keyboard","lamp-ceiling","lamp-desk","lamp-floor","lamp-wall-down","lamp-wall-up","lamp","landmark","languages","laptop-2","laptop","lasso-select","lasso","laugh","layers","layout-dashboard","layout-grid","layout-list","layout-template","layout","leaf","library","life-buoy","lightbulb-off","lightbulb","line-chart","link-2-off","link-2","link","linkedin","list-checks","list-end","list-minus","list-music","list-ordered","list-plus","list-start","list-video","list-x","list","loader-2","loader","locate-fixed","locate-off","locate","lock","log-in","log-out","luggage","magnet","mail-check","mail-minus","mail-open","mail-plus","mail-question","mail-search","mail-warning","mail-x","mail","mails","map-pin-off","map-pin","map","martini","maximize-2","maximize","medal","megaphone-off","megaphone","meh","menu","message-circle","message-square","mic-2","mic-off","mic","microscope","microwave","milestone","minimize-2","minimize","minus-circle","minus-square","minus","monitor-off","monitor-speaker","monitor","moon","more-horizontal","more-vertical","mountain-snow","mountain","mouse-pointer-2","mouse-pointer-click","mouse-pointer","mouse","move-3d","move-diagonal-2","move-diagonal","move-horizontal","move-vertical","move","music-2","music-3","music-4","music","navigation-2-off","navigation-2","navigation-off","navigation","network","newspaper","octagon","option","outdent","package-2","package-check","package-minus","package-open","package-plus","package-search","package-x","package","paint-bucket","paintbrush-2","paintbrush","palette","palmtree","paperclip","party-popper","pause-circle","pause-octagon","pause","pen-tool","pencil","percent","person-standing","phone-call","phone-forwarded","phone-incoming","phone-missed","phone-off","phone-outgoing","phone","pie-chart","piggy-bank","pin-off","pin","pipette","pizza","plane","play-circle","play","plug-2","plug-zap","plug","plus-circle","plus-square","plus","pocket","podcast","pointer","pound-sterling","power-off","power","printer","puzzle","qr-code","quote","radio-receiver","radio","rectangle-horizontal","rectangle-vertical","recycle","redo-2","redo","refresh-ccw","refresh-cw","refrigerator","regex","repeat-1","repeat","reply-all","reply","rewind","rocket","rocking-chair","rotate-3d","rotate-ccw","rotate-cw","rss","ruler","russian-ruble","sailboat","save","scale-3d","scale","scaling","scan-face","scan-line","scan","scissors","screen-share-off","screen-share","scroll","search","send","separator-horizontal","separator-vertical","server-cog","server-crash","server-off","server","settings-2","settings","share-2","share","sheet","shield-alert","shield-check","shield-close","shield-off","shield","shirt","shopping-bag","shopping-cart","shovel","shower-head","shrink","shrub","shuffle","sidebar-close","sidebar-open","sidebar","sigma","signal-high","signal-low","signal-medium","signal-zero","signal","siren","skip-back","skip-forward","skull","slack","slash","slice","sliders-horizontal","sliders","smartphone-charging","smartphone","smile-plus","smile","snowflake","sofa","sort-asc","sort-desc","speaker","sprout","square","star-half","star-off","star","stethoscope","sticker","sticky-note","stop-circle","stretch-horizontal","stretch-vertical","strikethrough","subscript","sun-dim","sun-medium","sun-moon","sun-snow","sun","sunrise","sunset","superscript","swiss-franc","switch-camera","sword","swords","syringe","table-2","table","tablet","tag","tags","target","tent","terminal-square","terminal","text-cursor-input","text-cursor","thermometer-snowflake","thermometer-sun","thermometer","thumbs-down","thumbs-up","ticket","timer-off","timer-reset","timer","toggle-left","toggle-right","tornado","toy-brick","train","trash-2","trash","tree-deciduous","tree-pine","trees","trello","trending-down","trending-up","triangle","trophy","truck","tv-2","tv","twitch","twitter","type","umbrella","underline","undo-2","undo","unlink-2","unlink","unlock","upload-cloud","upload","usb","user-check","user-cog","user-minus","user-plus","user-x","user","users","utensils-crossed","utensils","venetian-mask","verified","vibrate-off","vibrate","video-off","video","view","voicemail","volume-1","volume-2","volume-x","volume","wallet","wand-2","wand","watch","waves","webcam","webhook","wifi-off","wifi","wind","wine","wrap-text","wrench","x-circle","x-octagon","x-square","x","youtube","zap-off","zap","zoom-in","zoom-out"];var df=require("obsidian");function gt(o,e){let t=createDiv(e);return o.forEach(r=>{let i=t.createDiv("prompt-instruction");i.createEl("span",{text:r.hotkey}).addClass("prompt-instruction-command"),i.createEl("span",{text:r.action})}),t}var mf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},xn=mf;function gf(o){var l;let e,t,r,i=o[7].default,n=U(i,o,o[6],null),s=[xn,o[4],{width:o[2]},{height:o[2]},{stroke:o[1]},{"stroke-width":o[3]},{class:t=`lucide-icon lucide lucide-${o[0]} ${(l=o[5].class)!=null?l:""}`}],a={};for(let u=0;u<s.length;u+=1)a=P(a,s[u]);return{c(){e=y("svg"),n&&n.c(),Mr(e,a)},m(u,f){x(u,e,f),n&&n.m(e,null),r=!0},p(u,[f]){var c;n&&n.p&&(!r||f&64)&&X(n,i,u,u[6],r?G(i,u[6],f,null):K(u[6]),null),Mr(e,a=J(s,[xn,f&16&&u[4],(!r||f&4)&&{width:u[2]},(!r||f&4)&&{height:u[2]},(!r||f&2)&&{stroke:u[1]},(!r||f&8)&&{"stroke-width":u[3]},(!r||f&33&&t!==(t=`lucide-icon lucide lucide-${u[0]} ${(c=u[5].class)!=null?c:""}`))&&{class:t}]))},i(u){r||(b(n,u),r=!0)},o(u){k(n,u),r=!1},d(u){u&&_(e),n&&n.d(u)}}}function hf(o,e,t){let r=["name","color","size","strokeWidth"],i=Cr(e,r),{$$slots:n={},$$scope:s}=e,{name:a}=e,{color:l="currentColor"}=e,{size:u=24}=e,{strokeWidth:f=2}=e;return o.$$set=c=>{t(5,e=P(P({},e),j(c))),t(4,i=Cr(e,r)),"name"in c&&t(0,a=c.name),"color"in c&&t(1,l=c.color),"size"in c&&t(2,u=c.size),"strokeWidth"in c&&t(3,f=c.strokeWidth),"$$scope"in c&&t(6,s=c.$$scope)},e=j(e),[a,l,u,f,i,e,s,n]}var vn=class extends R{constructor(e){super(),H(this,e,hf,gf,D,{name:0,color:1,size:2,strokeWidth:3})}},ee=vn;function _f(o){let e,t,r,i,n,s,a,l,u,f,c,d=o[1].default,m=U(d,o,o[2],null);return{c(){e=y("path"),t=C(),r=y("polyline"),i=C(),n=y("path"),s=C(),a=y("path"),l=C(),u=y("path"),f=C(),m&&m.c(),p(e,"d","M17.5 22h.5c.5 0 1-.2 1.4-.6.4-.4.6-.9.6-1.4V7.5L14.5 2H6c-.5 0-1 .2-1.4.6C4.2 3 4 3.5 4 4v3"),p(r,"points","14 2 14 8 20 8"),p(n,"d","M10 20v-1a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0Z"),p(a,"d","M6 20v-1a2 2 0 1 0-4 0v1a2 2 0 1 0 4 0Z"),p(u,"d","M2 19v-3a6 6 0 0 1 12 0v3")},m(g,h){x(g,e,h),x(g,t,h),x(g,r,h),x(g,i,h),x(g,n,h),x(g,s,h),x(g,a,h),x(g,l,h),x(g,u,h),x(g,f,h),m&&m.m(g,h),c=!0},p(g,h){m&&m.p&&(!c||h&4)&&X(m,d,g,g[2],c?G(d,g[2],h,null):K(g[2]),null)},i(g){c||(b(m,g),c=!0)},o(g){k(m,g),c=!1},d(g){g&&_(e),g&&_(t),g&&_(r),g&&_(i),g&&_(n),g&&_(s),g&&_(a),g&&_(l),g&&_(u),g&&_(f),m&&m.d(g)}}}function xf(o){let e,t,r=[{name:"file-audio"},o[0]],i={$$slots:{default:[_f]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)i=P(i,r[n]);return e=new ee({props:i}),{c(){O(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){let a=s&1?J(r,[r[0],Z(n[0])]):{};s&4&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function vf(o,e,t){let{$$slots:r={},$$scope:i}=e;return o.$$set=n=>{t(0,e=P(P({},e),j(n))),"$$scope"in n&&t(2,i=n.$$scope)},e=j(e),[e,r,i]}var bn=class extends R{constructor(e){super(),H(this,e,vf,xf,D,{})}},yn=bn;function bf(o){let e,t,r,i,n,s,a,l,u,f=o[1].default,c=U(f,o,o[2],null);return{c(){e=y("path"),t=C(),r=y("polyline"),i=C(),n=y("circle"),s=C(),a=y("path"),l=C(),c&&c.c(),p(e,"d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"),p(r,"points","14 2 14 8 20 8"),p(n,"cx","10"),p(n,"cy","13"),p(n,"r","2"),p(a,"d","m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22")},m(d,m){x(d,e,m),x(d,t,m),x(d,r,m),x(d,i,m),x(d,n,m),x(d,s,m),x(d,a,m),x(d,l,m),c&&c.m(d,m),u=!0},p(d,m){c&&c.p&&(!u||m&4)&&X(c,f,d,d[2],u?G(f,d[2],m,null):K(d[2]),null)},i(d){u||(b(c,d),u=!0)},o(d){k(c,d),u=!1},d(d){d&&_(e),d&&_(t),d&&_(r),d&&_(i),d&&_(n),d&&_(s),d&&_(a),d&&_(l),c&&c.d(d)}}}function yf(o){let e,t,r=[{name:"file-image"},o[0]],i={$$slots:{default:[bf]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)i=P(i,r[n]);return e=new ee({props:i}),{c(){O(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){let a=s&1?J(r,[r[0],Z(n[0])]):{};s&4&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function wf(o,e,t){let{$$slots:r={},$$scope:i}=e;return o.$$set=n=>{t(0,e=P(P({},e),j(n))),"$$scope"in n&&t(2,i=n.$$scope)},e=j(e),[e,r,i]}var wn=class extends R{constructor(e){super(),H(this,e,wf,yf,D,{})}},Sn=wn;function Sf(o){let e,t,r,i,n,s,a,l,u,f=o[1].default,c=U(f,o,o[2],null);return{c(){e=y("path"),t=C(),r=y("polyline"),i=C(),n=y("path"),s=C(),a=y("path"),l=C(),c&&c.c(),p(e,"d","M16 22h2a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3"),p(r,"points","14 2 14 8 20 8"),p(n,"d","M4.04 11.71a5.84 5.84 0 1 0 8.2 8.29"),p(a,"d","M13.83 16A5.83 5.83 0 0 0 8 10.17V16h5.83Z")},m(d,m){x(d,e,m),x(d,t,m),x(d,r,m),x(d,i,m),x(d,n,m),x(d,s,m),x(d,a,m),x(d,l,m),c&&c.m(d,m),u=!0},p(d,m){c&&c.p&&(!u||m&4)&&X(c,f,d,d[2],u?G(f,d[2],m,null):K(d[2]),null)},i(d){u||(b(c,d),u=!0)},o(d){k(c,d),u=!1},d(d){d&&_(e),d&&_(t),d&&_(r),d&&_(i),d&&_(n),d&&_(s),d&&_(a),d&&_(l),c&&c.d(d)}}}function kf(o){let e,t,r=[{name:"file-pie-chart"},o[0]],i={$$slots:{default:[Sf]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)i=P(i,r[n]);return e=new ee({props:i}),{c(){O(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){let a=s&1?J(r,[r[0],Z(n[0])]):{};s&4&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ff(o,e,t){let{$$slots:r={},$$scope:i}=e;return o.$$set=n=>{t(0,e=P(P({},e),j(n))),"$$scope"in n&&t(2,i=n.$$scope)},e=j(e),[e,r,i]}var kn=class extends R{constructor(e){super(),H(this,e,Ff,kf,D,{})}},Fn=kn;function Cf(o){let e,t,r,i,n,s,a,l,u,f=o[1].default,c=U(f,o,o[2],null);return{c(){e=y("path"),t=C(),r=y("polyline"),i=C(),n=y("line"),s=C(),a=y("line"),l=C(),c&&c.c(),p(e,"d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"),p(r,"points","14 2 14 8 20 8"),p(n,"x1","12"),p(n,"y1","18"),p(n,"x2","12"),p(n,"y2","12"),p(a,"x1","9"),p(a,"y1","15"),p(a,"x2","15"),p(a,"y2","15")},m(d,m){x(d,e,m),x(d,t,m),x(d,r,m),x(d,i,m),x(d,n,m),x(d,s,m),x(d,a,m),x(d,l,m),c&&c.m(d,m),u=!0},p(d,m){c&&c.p&&(!u||m&4)&&X(c,f,d,d[2],u?G(f,d[2],m,null):K(d[2]),null)},i(d){u||(b(c,d),u=!0)},o(d){k(c,d),u=!1},d(d){d&&_(e),d&&_(t),d&&_(r),d&&_(i),d&&_(n),d&&_(s),d&&_(a),d&&_(l),c&&c.d(d)}}}function Tf(o){let e,t,r=[{name:"file-plus"},o[0]],i={$$slots:{default:[Cf]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)i=P(i,r[n]);return e=new ee({props:i}),{c(){O(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){let a=s&1?J(r,[r[0],Z(n[0])]):{};s&4&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function If(o,e,t){let{$$slots:r={},$$scope:i}=e;return o.$$set=n=>{t(0,e=P(P({},e),j(n))),"$$scope"in n&&t(2,i=n.$$scope)},e=j(e),[e,r,i]}var Cn=class extends R{constructor(e){super(),H(this,e,If,Tf,D,{})}},Tn=Cn;function Ef(o){let e,t,r,i,n,s,a,l=o[1].default,u=U(l,o,o[2],null);return{c(){e=y("path"),t=C(),r=y("path"),i=C(),n=y("path"),s=C(),u&&u.c(),p(e,"d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"),p(r,"d","M10 10.3c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2"),p(n,"d","M12 17h.01")},m(f,c){x(f,e,c),x(f,t,c),x(f,r,c),x(f,i,c),x(f,n,c),x(f,s,c),u&&u.m(f,c),a=!0},p(f,c){u&&u.p&&(!a||c&4)&&X(u,l,f,f[2],a?G(l,f[2],c,null):K(f[2]),null)},i(f){a||(b(u,f),a=!0)},o(f){k(u,f),a=!1},d(f){f&&_(e),f&&_(t),f&&_(r),f&&_(i),f&&_(n),f&&_(s),u&&u.d(f)}}}function Mf(o){let e,t,r=[{name:"file-question"},o[0]],i={$$slots:{default:[Ef]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)i=P(i,r[n]);return e=new ee({props:i}),{c(){O(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){let a=s&1?J(r,[r[0],Z(n[0])]):{};s&4&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Of(o,e,t){let{$$slots:r={},$$scope:i}=e;return o.$$set=n=>{t(0,e=P(P({},e),j(n))),"$$scope"in n&&t(2,i=n.$$scope)},e=j(e),[e,r,i]}var In=class extends R{constructor(e){super(),H(this,e,Of,Mf,D,{})}},En=In;function Lf(o){let e,t,r,i,n,s,a,l,u,f,c,d=o[1].default,m=U(d,o,o[2],null);return{c(){e=y("path"),t=C(),r=y("polyline"),i=C(),n=y("line"),s=C(),a=y("line"),l=C(),u=y("line"),f=C(),m&&m.c(),p(e,"d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"),p(r,"points","14 2 14 8 20 8"),p(n,"x1","16"),p(n,"y1","13"),p(n,"x2","8"),p(n,"y2","13"),p(a,"x1","16"),p(a,"y1","17"),p(a,"x2","8"),p(a,"y2","17"),p(u,"x1","10"),p(u,"y1","9"),p(u,"x2","8"),p(u,"y2","9")},m(g,h){x(g,e,h),x(g,t,h),x(g,r,h),x(g,i,h),x(g,n,h),x(g,s,h),x(g,a,h),x(g,l,h),x(g,u,h),x(g,f,h),m&&m.m(g,h),c=!0},p(g,h){m&&m.p&&(!c||h&4)&&X(m,d,g,g[2],c?G(d,g[2],h,null):K(g[2]),null)},i(g){c||(b(m,g),c=!0)},o(g){k(m,g),c=!1},d(g){g&&_(e),g&&_(t),g&&_(r),g&&_(i),g&&_(n),g&&_(s),g&&_(a),g&&_(l),g&&_(u),g&&_(f),m&&m.d(g)}}}function Pf(o){let e,t,r=[{name:"file-text"},o[0]],i={$$slots:{default:[Lf]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)i=P(i,r[n]);return e=new ee({props:i}),{c(){O(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){let a=s&1?J(r,[r[0],Z(n[0])]):{};s&4&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Af(o,e,t){let{$$slots:r={},$$scope:i}=e;return o.$$set=n=>{t(0,e=P(P({},e),j(n))),"$$scope"in n&&t(2,i=n.$$scope)},e=j(e),[e,r,i]}var Mn=class extends R{constructor(e){super(),H(this,e,Af,Pf,D,{})}},On=Mn;function Bf(o){let e,t,r,i,n,s,a,l=o[1].default,u=U(l,o,o[2],null);return{c(){e=y("path"),t=C(),r=y("polyline"),i=C(),n=y("path"),s=C(),u&&u.c(),p(e,"d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"),p(r,"points","14 2 14 8 20 8"),p(n,"d","m10 11 5 3-5 3v-6Z")},m(f,c){x(f,e,c),x(f,t,c),x(f,r,c),x(f,i,c),x(f,n,c),x(f,s,c),u&&u.m(f,c),a=!0},p(f,c){u&&u.p&&(!a||c&4)&&X(u,l,f,f[2],a?G(l,f[2],c,null):K(f[2]),null)},i(f){a||(b(u,f),a=!0)},o(f){k(u,f),a=!1},d(f){f&&_(e),f&&_(t),f&&_(r),f&&_(i),f&&_(n),f&&_(s),u&&u.d(f)}}}function Rf(o){let e,t,r=[{name:"file-video"},o[0]],i={$$slots:{default:[Bf]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)i=P(i,r[n]);return e=new ee({props:i}),{c(){O(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){let a=s&1?J(r,[r[0],Z(n[0])]):{};s&4&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Df(o,e,t){let{$$slots:r={},$$scope:i}=e;return o.$$set=n=>{t(0,e=P(P({},e),j(n))),"$$scope"in n&&t(2,i=n.$$scope)},e=j(e),[e,r,i]}var Ln=class extends R{constructor(e){super(),H(this,e,Df,Rf,D,{})}},Pn=Ln;function Hf(o){let e,t,r,i,n,s=o[1].default,a=U(s,o,o[2],null);return{c(){e=y("path"),t=C(),r=y("polyline"),i=C(),a&&a.c(),p(e,"d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"),p(r,"points","14 2 14 8 20 8")},m(l,u){x(l,e,u),x(l,t,u),x(l,r,u),x(l,i,u),a&&a.m(l,u),n=!0},p(l,u){a&&a.p&&(!n||u&4)&&X(a,s,l,l[2],n?G(s,l[2],u,null):K(l[2]),null)},i(l){n||(b(a,l),n=!0)},o(l){k(a,l),n=!1},d(l){l&&_(e),l&&_(t),l&&_(r),l&&_(i),a&&a.d(l)}}}function Vf(o){let e,t,r=[{name:"file"},o[0]],i={$$slots:{default:[Hf]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)i=P(i,r[n]);return e=new ee({props:i}),{c(){O(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){let a=s&1?J(r,[r[0],Z(n[0])]):{};s&4&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zf(o,e,t){let{$$slots:r={},$$scope:i}=e;return o.$$set=n=>{t(0,e=P(P({},e),j(n))),"$$scope"in n&&t(2,i=n.$$scope)},e=j(e),[e,r,i]}var An=class extends R{constructor(e){super(),H(this,e,zf,Vf,D,{})}},Io=An;function jf(o){let e,t,r,i=o[1].default,n=U(i,o,o[2],null);return{c(){e=y("path"),t=C(),n&&n.c(),p(e,"d","m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2")},m(s,a){x(s,e,a),x(s,t,a),n&&n.m(s,a),r=!0},p(s,a){n&&n.p&&(!r||a&4)&&X(n,i,s,s[2],r?G(i,s[2],a,null):K(s[2]),null)},i(s){r||(b(n,s),r=!0)},o(s){k(n,s),r=!1},d(s){s&&_(e),s&&_(t),n&&n.d(s)}}}function Nf(o){let e,t,r=[{name:"folder-open"},o[0]],i={$$slots:{default:[jf]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)i=P(i,r[n]);return e=new ee({props:i}),{c(){O(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){let a=s&1?J(r,[r[0],Z(n[0])]):{};s&4&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Wf(o,e,t){let{$$slots:r={},$$scope:i}=e;return o.$$set=n=>{t(0,e=P(P({},e),j(n))),"$$scope"in n&&t(2,i=n.$$scope)},e=j(e),[e,r,i]}var Bn=class extends R{constructor(e){super(),H(this,e,Wf,Nf,D,{})}},Rn=Bn;function $f(o){let e,t,r,i=o[1].default,n=U(i,o,o[2],null);return{c(){e=y("path"),t=C(),n&&n.c(),p(e,"d","M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z")},m(s,a){x(s,e,a),x(s,t,a),n&&n.m(s,a),r=!0},p(s,a){n&&n.p&&(!r||a&4)&&X(n,i,s,s[2],r?G(i,s[2],a,null):K(s[2]),null)},i(s){r||(b(n,s),r=!0)},o(s){k(n,s),r=!1},d(s){s&&_(e),s&&_(t),n&&n.d(s)}}}function qf(o){let e,t,r=[{name:"folder"},o[0]],i={$$slots:{default:[$f]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)i=P(i,r[n]);return e=new ee({props:i}),{c(){O(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){let a=s&1?J(r,[r[0],Z(n[0])]):{};s&4&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Uf(o,e,t){let{$$slots:r={},$$scope:i}=e;return o.$$set=n=>{t(0,e=P(P({},e),j(n))),"$$scope"in n&&t(2,i=n.$$scope)},e=j(e),[e,r,i]}var Dn=class extends R{constructor(e){super(),H(this,e,Uf,qf,D,{})}},Hn=Dn;function Gf(o){let e,t,r,i,n,s=o[1].default,a=U(s,o,o[2],null);return{c(){e=y("polyline"),t=C(),r=y("path"),i=C(),a&&a.c(),p(e,"points","15 17 20 12 15 7"),p(r,"d","M4 18v-2a4 4 0 0 1 4-4h12")},m(l,u){x(l,e,u),x(l,t,u),x(l,r,u),x(l,i,u),a&&a.m(l,u),n=!0},p(l,u){a&&a.p&&(!n||u&4)&&X(a,s,l,l[2],n?G(s,l[2],u,null):K(l[2]),null)},i(l){n||(b(a,l),n=!0)},o(l){k(a,l),n=!1},d(l){l&&_(e),l&&_(t),l&&_(r),l&&_(i),a&&a.d(l)}}}function Xf(o){let e,t,r=[{name:"forward"},o[0]],i={$$slots:{default:[Gf]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)i=P(i,r[n]);return e=new ee({props:i}),{c(){O(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){let a=s&1?J(r,[r[0],Z(n[0])]):{};s&4&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Kf(o,e,t){let{$$slots:r={},$$scope:i}=e;return o.$$set=n=>{t(0,e=P(P({},e),j(n))),"$$scope"in n&&t(2,i=n.$$scope)},e=j(e),[e,r,i]}var Vn=class extends R{constructor(e){super(),H(this,e,Kf,Xf,D,{})}},zn=Vn;function Jf(o){let e,t,r,i,n,s,a,l=o[1].default,u=U(l,o,o[2],null);return{c(){e=y("circle"),t=C(),r=y("line"),i=C(),n=y("path"),s=C(),u&&u.c(),p(e,"cx","12"),p(e,"cy","12"),p(e,"r","10"),p(r,"x1","2"),p(r,"y1","12"),p(r,"x2","22"),p(r,"y2","12"),p(n,"d","M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z")},m(f,c){x(f,e,c),x(f,t,c),x(f,r,c),x(f,i,c),x(f,n,c),x(f,s,c),u&&u.m(f,c),a=!0},p(f,c){u&&u.p&&(!a||c&4)&&X(u,l,f,f[2],a?G(l,f[2],c,null):K(f[2]),null)},i(f){a||(b(u,f),a=!0)},o(f){k(u,f),a=!1},d(f){f&&_(e),f&&_(t),f&&_(r),f&&_(i),f&&_(n),f&&_(s),u&&u.d(f)}}}function Yf(o){let e,t,r=[{name:"globe"},o[0]],i={$$slots:{default:[Jf]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)i=P(i,r[n]);return e=new ee({props:i}),{c(){O(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){let a=s&1?J(r,[r[0],Z(n[0])]):{};s&4&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Zf(o,e,t){let{$$slots:r={},$$scope:i}=e;return o.$$set=n=>{t(0,e=P(P({},e),j(n))),"$$scope"in n&&t(2,i=n.$$scope)},e=j(e),[e,r,i]}var jn=class extends R{constructor(e){super(),H(this,e,Zf,Yf,D,{})}},Eo=jn;function Qf(o){let e,t,r,i,n,s,a,l,u,f=o[1].default,c=U(f,o,o[2],null);return{c(){e=y("line"),t=C(),r=y("line"),i=C(),n=y("line"),s=C(),a=y("line"),l=C(),c&&c.c(),p(e,"x1","4"),p(e,"y1","9"),p(e,"x2","20"),p(e,"y2","9"),p(r,"x1","4"),p(r,"y1","15"),p(r,"x2","20"),p(r,"y2","15"),p(n,"x1","10"),p(n,"y1","3"),p(n,"x2","8"),p(n,"y2","21"),p(a,"x1","16"),p(a,"y1","3"),p(a,"x2","14"),p(a,"y2","21")},m(d,m){x(d,e,m),x(d,t,m),x(d,r,m),x(d,i,m),x(d,n,m),x(d,s,m),x(d,a,m),x(d,l,m),c&&c.m(d,m),u=!0},p(d,m){c&&c.p&&(!u||m&4)&&X(c,f,d,d[2],u?G(f,d[2],m,null):K(d[2]),null)},i(d){u||(b(c,d),u=!0)},o(d){k(c,d),u=!1},d(d){d&&_(e),d&&_(t),d&&_(r),d&&_(i),d&&_(n),d&&_(s),d&&_(a),d&&_(l),c&&c.d(d)}}}function eu(o){let e,t,r=[{name:"hash"},o[0]],i={$$slots:{default:[Qf]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)i=P(i,r[n]);return e=new ee({props:i}),{c(){O(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){let a=s&1?J(r,[r[0],Z(n[0])]):{};s&4&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function tu(o,e,t){let{$$slots:r={},$$scope:i}=e;return o.$$set=n=>{t(0,e=P(P({},e),j(n))),"$$scope"in n&&t(2,i=n.$$scope)},e=j(e),[e,r,i]}var Nn=class extends R{constructor(e){super(),H(this,e,tu,eu,D,{})}},Wn=Nn;function ou(o){let e,t,r,i,n,s,a,l=o[1].default,u=U(l,o,o[2],null);return{c(){e=y("circle"),t=C(),r=y("circle"),i=C(),n=y("circle"),s=C(),u&&u.c(),p(e,"cx","12"),p(e,"cy","12"),p(e,"r","1"),p(r,"cx","19"),p(r,"cy","12"),p(r,"r","1"),p(n,"cx","5"),p(n,"cy","12"),p(n,"r","1")},m(f,c){x(f,e,c),x(f,t,c),x(f,r,c),x(f,i,c),x(f,n,c),x(f,s,c),u&&u.m(f,c),a=!0},p(f,c){u&&u.p&&(!a||c&4)&&X(u,l,f,f[2],a?G(l,f[2],c,null):K(f[2]),null)},i(f){a||(b(u,f),a=!0)},o(f){k(u,f),a=!1},d(f){f&&_(e),f&&_(t),f&&_(r),f&&_(i),f&&_(n),f&&_(s),u&&u.d(f)}}}function ru(o){let e,t,r=[{name:"more-horizontal"},o[0]],i={$$slots:{default:[ou]},$$scope:{ctx:o}};for(let n=0;n<r.length;n+=1)i=P(i,r[n]);return e=new ee({props:i}),{c(){O(e.$$.fragment)},m(n,s){M(e,n,s),t=!0},p(n,[s]){let a=s&1?J(r,[r[0],Z(n[0])]):{};s&4&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function nu(o,e,t){let{$$slots:r={},$$scope:i}=e;return o.$$set=n=>{t(0,e=P(P({},e),j(n))),"$$scope"in n&&t(2,i=n.$$scope)},e=j(e),[e,r,i]}var $n=class extends R{constructor(e){super(),H(this,e,nu,ru,D,{})}},qn=$n;var iu=o=>({}),vs=o=>({}),su=o=>({}),bs=o=>({}),au=o=>({}),ys=o=>({});function lu(o){let e,t,r,i,n,s,a,l,u,f,c,d,m,g=o[9]["suggestion-title"],h=U(g,o,o[8],ys),v=o[9]["suggestion-extra-content"],w=U(v,o,o[8],bs),B=o[9]["suggestion-aux"],T=U(B,o,o[8],vs);return{c(){var F,A,W,E;e=L("div"),t=L("div"),r=L("div"),h&&h.c(),n=C(),w&&w.c(),a=C(),l=L("div"),T&&T.c(),p(r,"class",i=(F=o[5])!=null?F:"suggestion-title"),p(t,"class",s=(A=o[4])!=null?A:"suggestion-content"),p(l,"class",u=(W=o[6])!=null?W:"suggestion-aux"),p(e,"class",f=(E=o[3])!=null?E:"suggestion-item mod-complex"),Fe(e,"is-selected",o[2]===o[0])},m(F,A){x(F,e,A),S(e,t),S(t,r),h&&h.m(r,null),S(t,n),w&&w.m(t,null),S(e,a),S(e,l),T&&T.m(l,null),c=!0,d||(m=[Pe(e,"mousemove",o[10]),Pe(e,"click",o[11]),Pe(e,"auxclick",o[12])],d=!0)},p(F,[A]){var W,E,z,V;h&&h.p&&(!c||A&256)&&X(h,g,F,F[8],c?G(g,F[8],A,au):K(F[8]),ys),(!c||A&32&&i!==(i=(W=F[5])!=null?W:"suggestion-title"))&&p(r,"class",i),w&&w.p&&(!c||A&256)&&X(w,v,F,F[8],c?G(v,F[8],A,su):K(F[8]),bs),(!c||A&16&&s!==(s=(E=F[4])!=null?E:"suggestion-content"))&&p(t,"class",s),T&&T.p&&(!c||A&256)&&X(T,B,F,F[8],c?G(B,F[8],A,iu):K(F[8]),vs),(!c||A&64&&u!==(u=(z=F[6])!=null?z:"suggestion-aux"))&&p(l,"class",u),(!c||A&8&&f!==(f=(V=F[3])!=null?V:"suggestion-item mod-complex"))&&p(e,"class",f),(!c||A&13)&&Fe(e,"is-selected",F[2]===F[0])},i(F){c||(b(h,F),b(w,F),b(T,F),c=!0)},o(F){k(h,F),k(w,F),k(T,F),c=!1},d(F){F&&_(e),h&&h.d(F),w&&w.d(F),T&&T.d(F),d=!1,ke(m)}}}function fu(o,e,t){let{$$slots:r={},$$scope:i}=e,{index:n}=e,{textInputSuggester:s}=e,{selectedItemIndex:a}=e,l=s.getSuggester(),{suggestionItemClass:u=void 0}=e,{suggestionContentClass:f=void 0}=e,{suggestionTitleClass:c=void 0}=e,{suggestionAuxClass:d=void 0}=e,m=()=>l.setSelectedItemIndex(n),g=()=>s.useSelectedItem(l.getSelectedItem()),h=v=>{v.button===1&&s.useSelectedItem(l.getSelectedItem(),!0)};return o.$$set=v=>{"index"in v&&t(0,n=v.index),"textInputSuggester"in v&&t(1,s=v.textInputSuggester),"selectedItemIndex"in v&&t(2,a=v.selectedItemIndex),"suggestionItemClass"in v&&t(3,u=v.suggestionItemClass),"suggestionContentClass"in v&&t(4,f=v.suggestionContentClass),"suggestionTitleClass"in v&&t(5,c=v.suggestionTitleClass),"suggestionAuxClass"in v&&t(6,d=v.suggestionAuxClass),"$$scope"in v&&t(8,i=v.$$scope)},[n,s,a,u,f,c,d,l,i,r,m,g,h]}var Un=class extends R{constructor(e){super(),H(this,e,fu,lu,D,{index:0,textInputSuggester:1,selectedItemIndex:2,suggestionItemClass:3,suggestionContentClass:4,suggestionTitleClass:5,suggestionAuxClass:6})}},Ie=Un;function uu(o){let e;return{c(){e=L("div"),e.textContent=`${o[6].extension}`,p(e,"class","nav-file-tag home-tab-suggestion-file-tag")},m(t,r){x(t,e,r)},p:$,d(t){t&&_(e)}}}function cu(o){let e,t,r,i,n=o[6].fileType!="markdown"&&!o[6].isWebUrl&&uu(o);return{c(){e=L("span"),t=ue(o[3]),r=C(),n&&n.c(),i=be()},m(s,a){x(s,e,a),S(e,t),x(s,r,a),n&&n.m(s,a),x(s,i,a)},p(s,a){a&8&&ge(t,s[3]),s[6].fileType!="markdown"&&!s[6].isWebUrl&&n.p(s,a)},d(s){s&&_(e),s&&_(r),n&&n.d(s),s&&_(i)}}}function pu(o){var a;let e=o[6].aliases&&((a=o[6].aliases)==null?void 0:a.includes(o[3])),t,r,i,n=e&&ws(o),s=o[5]&&Ss(o);return{c(){n&&n.c(),t=C(),s&&s.c(),r=be()},m(l,u){n&&n.m(l,u),x(l,t,u),s&&s.m(l,u),x(l,r,u),i=!0},p(l,u){var f;u&8&&(e=l[6].aliases&&((f=l[6].aliases)==null?void 0:f.includes(l[3]))),e?n?(n.p(l,u),u&8&&b(n,1)):(n=ws(l),n.c(),b(n,1),n.m(t.parentNode,t)):n&&(ye(),k(n,1,1,()=>{n=null}),we()),l[5]?s?(s.p(l,u),u&32&&b(s,1)):(s=Ss(l),s.c(),b(s,1),s.m(r.parentNode,r)):s&&(ye(),k(s,1,1,()=>{s=null}),we())},i(l){i||(b(n),b(s),i=!0)},o(l){k(n),k(s),i=!1},d(l){n&&n.d(l),l&&_(t),s&&s.d(l),l&&_(r)}}}function ws(o){let e,t,r,i,n;return t=new zn({props:{size:15,"aria-label":"Alias of"}}),{c(){e=L("div"),O(t.$$.fragment),r=C(),i=L("span"),i.textContent=`${o[6].basename}`,p(e,"class","home-tab-suggestion-description")},m(s,a){x(s,e,a),M(t,e,null),S(e,r),S(e,i),n=!0},p:$,i(s){n||(b(t.$$.fragment,s),n=!0)},o(s){k(t.$$.fragment,s),n=!1},d(s){s&&_(e),I(t)}}}function Ss(o){let e,t,r,i,n,s;return t=new Wn({props:{size:15,"aria-label":"Heading"}}),{c(){e=L("div"),O(t.$$.fragment),r=C(),i=L("span"),n=ue(o[5]),p(e,"class","home-tab-suggestion-description")},m(a,l){x(a,e,l),M(t,e,null),S(e,r),S(e,i),S(i,n),s=!0},p(a,l){(!s||l&32)&&ge(n,a[5])},i(a){s||(b(t.$$.fragment,a),s=!0)},o(a){k(t.$$.fragment,a),s=!1},d(a){a&&_(e),I(t)}}}function du(o){let e,t,r=o[6].isCreated&&pu(o);return{c(){r&&r.c(),e=be()},m(i,n){r&&r.m(i,n),x(i,e,n),t=!0},p(i,n){i[6].isCreated&&r.p(i,n)},i(i){t||(b(r),t=!0)},o(i){k(r),t=!1},d(i){r&&r.d(i),i&&_(e)}}}function mu(o){let e,t,r,i,n,s;return t=new Hn({props:{size:15}}),{c(){e=L("div"),O(t.$$.fragment),r=C(),i=L("span"),n=ue(o[4]),p(i,"class","home-tab-file-path"),p(e,"class","home-tab-suggestion-filepath"),p(e,"aria-label","File path")},m(a,l){x(a,e,l),M(t,e,null),S(e,r),S(e,i),S(i,n),s=!0},p(a,l){(!s||l&16)&&ge(n,a[4])},i(a){s||(b(t.$$.fragment,a),s=!0)},o(a){k(t.$$.fragment,a),s=!1},d(a){a&&_(e),I(t)}}}function gu(o){let e,t,r,i,n;return t=new Eo({props:{size:15,"aria-label":"WebViewer"}}),{c(){e=L("div"),O(t.$$.fragment),r=C(),i=L("span"),i.textContent="WebViewer",p(e,"class","home-tab-suggestion-filepath")},m(s,a){x(s,e,a),M(t,e,null),S(e,r),S(e,i),n=!0},p:$,i(s){n||(b(t.$$.fragment,s),n=!0)},o(s){k(t.$$.fragment,s),n=!1},d(s){s&&_(e),I(t)}}}function hu(o){let e,t,r,i,n=[xu,_u],s=[];function a(l,u){return l[6].isUnresolved?0:1}return t=a(o,-1),r=s[t]=n[t](o),{c(){e=L("div"),r.c(),p(e,"class","home-tab-suggestion-tip")},m(l,u){x(l,e,u),s[t].m(e,null),i=!0},p:$,i(l){i||(b(r),i=!0)},o(l){k(r),i=!1},d(l){l&&_(e),s[t].d()}}}function _u(o){let e,t,r,i;return e=new En({props:{size:15,"aria-label":"Non exists yet, select to create"}}),{c(){O(e.$$.fragment),t=C(),r=L("div"),r.innerHTML="<span>Enter to create</span>",p(r,"class","suggestion-hotkey")},m(n,s){M(e,n,s),x(n,t,s),x(n,r,s),i=!0},i(n){i||(b(e.$$.fragment,n),i=!0)},o(n){k(e.$$.fragment,n),i=!1},d(n){I(e,n),n&&_(t),n&&_(r)}}}function xu(o){let e,t;return e=new Tn({props:{size:15,"aria-label":"Not created yet, select to create"}}),{c(){O(e.$$.fragment)},m(r,i){M(e,r,i),t=!0},i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function vu(o){let e,t,r,i,n=[hu,gu,mu],s=[];function a(l,u){return l[6].isCreated?l[6].isWebUrl?1:(l[6].isCreated||l[6].isUnresolved)&&l[4]?2:-1:0}return~(e=a(o,-1))&&(t=s[e]=n[e](o)),{c(){t&&t.c(),r=be()},m(l,u){~e&&s[e].m(l,u),x(l,r,u),i=!0},p(l,u){let f=e;e=a(l,u),e===f?~e&&s[e].p(l,u):(t&&(ye(),k(s[f],1,1,()=>{s[f]=null}),we()),~e?(t=s[e],t?t.p(l,u):(t=s[e]=n[e](l),t.c()),b(t,1),t.m(r.parentNode,r)):t=null)},i(l){i||(b(t),i=!0)},o(l){k(t),i=!1},d(l){~e&&s[e].d(l),l&&_(r)}}}function bu(o){let e,t;return e=new Ie({props:{index:o[0],textInputSuggester:o[1],selectedItemIndex:o[2],suggestionTitleClass:`suggestion-title home-tab-suggestion-title ${o[6].isUnresolved?"is-unresolved":""}`,$$slots:{"suggestion-aux":[vu],"suggestion-extra-content":[du],"suggestion-title":[cu]},$$scope:{ctx:o}}}),{c(){O(e.$$.fragment)},m(r,i){M(e,r,i),t=!0},p(r,[i]){let n={};i&1&&(n.index=r[0]),i&2&&(n.textInputSuggester=r[1]),i&4&&(n.selectedItemIndex=r[2]),i&312&&(n.$$scope={dirty:i,ctx:r}),e.$set(n)},i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function yu(o,e,t){let{index:r}=e,{textInputSuggester:i}=e,{selectedItemIndex:n}=e,{suggestion:s}=e,{nameToDisplay:a}=e,{filePath:l=void 0}=e,{matchedHeading:u=void 0}=e,f=s.item;return o.$$set=c=>{"index"in c&&t(0,r=c.index),"textInputSuggester"in c&&t(1,i=c.textInputSuggester),"selectedItemIndex"in c&&t(2,n=c.selectedItemIndex),"suggestion"in c&&t(7,s=c.suggestion),"nameToDisplay"in c&&t(3,a=c.nameToDisplay),"filePath"in c&&t(4,l=c.filePath),"matchedHeading"in c&&t(5,u=c.matchedHeading)},[r,i,n,a,l,u,f,s]}var Gn=class extends R{constructor(e){super(),H(this,e,yu,bu,D,{index:0,textInputSuggester:1,selectedItemIndex:2,suggestion:7,nameToDisplay:3,filePath:4,matchedHeading:5})}},ks=Gn;var ht=class extends $e{constructor(t,r,i,n){super(t,te(n.searchBarEl),te(n.suggestionContainerEl),{containerClass:`home-tab-suggestion-container ${it.Platform.isPhone?"is-phone":""}`,additionalClasses:`${r.settings.selectionHighlight==="accentColor"?"use-accent-color":""}`,additionalModalInfo:r.settings.showShortcuts?gt([{hotkey:"\u2191\u2193",action:"to navigate"},{hotkey:"\u21B5",action:"to open"},{hotkey:"shift \u21B5",action:"to create"},{hotkey:"ctrl \u21B5",action:"to open in new tab"},{hotkey:"esc",action:"to dismiss"}],"home-tab-hotkey-suggestions"):void 0},r.settings.searchDelay);this.plugin=r,this.view=i,this.searchBar=n,this.app.metadataCache.onCleanCache(()=>{this.plugin.settings.markdownOnly?this.files=this.filterSearchFileArray("markdown",Jo(this.plugin.settings.unresolvedLinks)):this.files=Jo(this.plugin.settings.unresolvedLinks),this.fuzzySearch=new Yo(this.files,{...yo,ignoreLocation:!0,fieldNormWeight:1.65,keys:[{name:"basename",weight:1.5},{name:"aliases",weight:.1},...this.plugin.settings.searchTitle?[{name:"title",weight:1.2}]:[],...this.plugin.settings.searchHeadings?[{name:"headings",weight:1}]:[]]})}),this.scope.register(["Mod"],"Enter",s=>{s.preventDefault(),this.useSelectedItem(this.suggester.getSelectedItem(),!0)}),this.scope.register(["Shift"],"Enter",async s=>{s.preventDefault(),await this.handleFileCreation()}),this.scope.register(["Shift","Mod"],"Enter",async s=>{s.preventDefault(),await this.handleFileCreation(void 0,!0)}),this.view.registerEvent(this.app.vault.on("create",s=>{s instanceof it.TFile&&this.updateSearchfilesList(s)})),this.view.registerEvent(this.app.vault.on("delete",s=>{s instanceof it.TFile&&this.updateSearchfilesList(s)})),this.view.registerEvent(this.app.vault.on("rename",(s,a)=>{s instanceof it.TFile&&this.updateSearchfilesList(s,a)})),this.view.registerEvent(this.app.metadataCache.on("resolved",()=>this.updateUnresolvedFiles()))}updateSearchBarContainerElState(t){var r;(r=this.inputEl.parentElement)==null||r.toggleClass("is-active",t)}onOpen(){this.updateSearchBarContainerElState(this.suggester.getSuggestions().length>0)}onClose(){this.updateSearchBarContainerElState(!1)}filterSearchFileArray(t,r){return r.filter(n=>Ni(t)?n.extension===t:n.fileType===t)}updateUnresolvedFiles(){let t=Zr(),r=!1;this.files&&(t.forEach(i=>{this.files.includes(i)||(this.files.push(i),r=!0)}),r&&this.fuzzySearch.updateSearchArray(this.files))}updateSearchfilesList(t,r){this.app.metadataCache.onCleanCache(()=>{if(r&&(this.files.splice(this.files.findIndex(i=>i.path===r),1),this.files.push(bo(t))),t.deleted)this.files.splice(this.files.findIndex(i=>i.path===t.path),1);else{let i=this.files.findIndex(n=>n.path===t.path);i===-1?this.files.push(bo(t)):this.files[i].isUnresolved&&(this.files[i]=bo(t))}this.fuzzySearch.updateSearchArray(this.files)})}onNoSuggestion(){let t=this.inputEl.value.trim();!this.activeFilter||this.activeFilter==="markdown"||this.activeFilter==="md"?t?(this.suggester.setSuggestions([{item:{name:`${t}.md`,path:`${t}.md`,basename:t,isCreated:!1,fileType:"markdown",extension:"md"},refIndex:0,score:0}]),this.open()):this.close():this.close()}getSuggestions(t){let r=t.trim();return r?this.fuzzySearch.rawSearch(r,this.plugin.settings.maxResults):[]}useSelectedItem(t,r){var a;let i=t.item,n=this.plugin.settings,s=(a=t.matches)==null?void 0:a.find(l=>l.key==="headings");if(n.autoJumpToHeading&&s&&s.value){let l=`${i.path}#${s.value}`;this.app.workspace.openLinkText(l,"",r!=null?r:!1);return}if(t.item.isWebUrl){(r?this.app.workspace.getLeaf("tab"):this.app.workspace.getLeaf()).setViewState({type:"webviewer",active:!0,state:{url:t.item.url}});return}t.item.isCreated&&t.item.file?this.openFile(t.item.file,r):this.handleFileCreation(t.item,r)}getDisplayElementProps(t){if(!this.inputEl||!(this.inputEl instanceof HTMLInputElement))return{nameToDisplay:t.item.basename,filePath:void 0};if(t.item.isWebUrl)return{nameToDisplay:"Open link: "+t.item.url,filePath:"WebViewer"};let r=t.item.basename,i,n;if(this.plugin.settings.showPath&&(i=t.item.file&&t.item.file.parent?t.item.file.parent.name:qi(t.item.path)),this.plugin.settings.searchHeadings&&t.matches){let s=t.matches.find(a=>a.key==="headings");if(s&&typeof s.value=="string")return n=s.value,r=t.item.basename,{nameToDisplay:r,filePath:i,matchedHeading:n}}return r=this.fuzzySearch.getBestMatch(t,this.inputEl.value),{nameToDisplay:r,filePath:i,matchedHeading:n}}getDisplayElementComponentType(){return ks}async handleFileCreation(t,r){var n;let i;if(t!=null&&t.isUnresolved){let s=t.path.replace(t.name,"");await this.app.vault.adapter.exists(s)||await this.app.vault.createFolder(s),i=await this.app.vault.create(t.path,"")}else{let s=this.inputEl.value,a=this.files.filter(l=>l.fileType==="markdown");if(a.map(l=>l.basename).includes(s)){let l=(n=a.find(u=>u.basename===s))==null?void 0:n.file;l&&l instanceof it.TFile&&this.openFile(l,r)}i=await this.app.vault.create((0,it.normalizePath)(`${this.app.fileManager.getNewFileParent("").path}/${s}.md`),"")}this.openFile(i,r)}openFile(t,r){r?this.app.workspace.createLeafInTabGroup().openFile(t):this.view.leaf.openFile(t)}setFileFilter(t){this.activeFilter=t,this.app.metadataCache.onCleanCache(()=>{this.fuzzySearch.updateSearchArray(this.filterSearchFileArray(t,this.plugin.settings.markdownOnly?Jo(this.plugin.settings.unresolvedLinks):this.files))}),this.suggester.setSuggestions([]),this.close()}};var sr=require("obsidian");function Fs(o){let e,t=`${o[3].matches.length} match${o[3].matches.length>1?"es":""}`,r;return{c(){e=L("span"),r=ue(t),p(e,"class","omnisearch-result__counter")},m(i,n){x(i,e,n),S(e,r)},p(i,n){n&8&&t!==(t=`${i[3].matches.length} match${i[3].matches.length>1?"es":""}`)&&ge(r,t)},d(i){i&&_(e)}}}function wu(o){let e,t,r,i,n,s,a,l,u;r=new Io({props:{size:15}});let f=o[3].matches.length>0&&Fs(o);return{c(){e=L("span"),t=L("span"),O(r.$$.fragment),i=C(),n=L("span"),s=C(),a=L("span"),a.textContent=`${`.${o[6]}`}`,l=C(),f&&f.c(),p(a,"class","omnisearch-result__extension"),p(e,"class","omnisearch-result__title")},m(c,d){x(c,e,d),S(e,t),M(r,t,null),S(e,i),S(e,n),n.innerHTML=o[4],S(e,s),S(e,a),S(e,l),f&&f.m(e,null),u=!0},p(c,d){(!u||d&16)&&(n.innerHTML=c[4]),c[3].matches.length>0?f?f.p(c,d):(f=Fs(c),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(c){u||(b(r.$$.fragment,c),u=!0)},o(c){k(r.$$.fragment,c),u=!1},d(c){c&&_(e),I(r),f&&f.d()}}}function Su(o){let e,t,r,i,n;return t=new Rn({props:{size:15}}),{c(){e=L("div"),O(t.$$.fragment),r=C(),i=L("span"),i.textContent=`${o[7]}`,p(e,"class","omnisearch-result__folder-path")},m(s,a){x(s,e,a),M(t,e,null),S(e,r),S(e,i),n=!0},p:$,i(s){n||(b(t.$$.fragment,s),n=!0)},o(s){k(t.$$.fragment,s),n=!1},d(s){s&&_(e),I(t)}}}function ku(o){let e,t,r,i=o[7].length>0&&Su(o);return{c(){i&&i.c(),e=C(),t=L("div"),p(t,"class","omnisearch-result__body")},m(n,s){i&&i.m(n,s),x(n,e,s),x(n,t,s),t.innerHTML=o[5],r=!0},p(n,s){n[7].length>0&&i.p(n,s),(!r||s&32)&&(t.innerHTML=n[5])},i(n){r||(b(i),r=!0)},o(n){k(i),r=!1},d(n){i&&i.d(n),n&&_(e),n&&_(t)}}}function Fu(o){let e,t;return e=new Ie({props:{index:o[0],textInputSuggester:o[1],selectedItemIndex:o[2],suggestionItemClass:"suggestion-item omnisearch-result",suggestionContentClass:"",suggestionTitleClass:"omnisearch-result__title-container",$$slots:{"suggestion-extra-content":[ku],"suggestion-title":[wu]},$$scope:{ctx:o}}}),{c(){O(e.$$.fragment)},m(r,i){M(e,r,i),t=!0},p(r,[i]){let n={};i&1&&(n.index=r[0]),i&2&&(n.textInputSuggester=r[1]),i&4&&(n.selectedItemIndex=r[2]),i&312&&(n.$$scope={dirty:i,ctx:r}),e.$set(n)},i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function Cu(o,e,t){let{index:r}=e,{textInputSuggester:i}=e,{selectedItemIndex:n}=e,{suggestion:s}=e,{basename:a}=e,{excerpt:l}=e,u=vo(s.path),f=s.path.replace(`${s.basename}.${u}`,"").slice(0,-1);return o.$$set=c=>{"index"in c&&t(0,r=c.index),"textInputSuggester"in c&&t(1,i=c.textInputSuggester),"selectedItemIndex"in c&&t(2,n=c.selectedItemIndex),"suggestion"in c&&t(3,s=c.suggestion),"basename"in c&&t(4,a=c.basename),"excerpt"in c&&t(5,l=c.excerpt)},[r,i,n,s,a,l,u,f]}var Xn=class extends R{constructor(e){super(),H(this,e,Cu,Fu,D,{index:0,textInputSuggester:1,selectedItemIndex:2,suggestion:3,basename:4,excerpt:5})}},Cs=Xn;function Ts(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Is(o,e){return new RegExp(o.join("|"),e!=null?e:"g")}var _t=class extends $e{constructor(t,r,i,n){super(t,te(n.searchBarEl),te(n.suggestionContainerEl),{containerClass:`home-tab-suggestion-container ${sr.Platform.isPhone?"is-phone":""}`,additionalClasses:`${r.settings.selectionHighlight==="accentColor"?"use-accent-color":""}`,additionalModalInfo:r.settings.showShortcuts?gt([{hotkey:"\u2191\u2193",action:"to navigate"},{hotkey:"\u21B5",action:"to open"},{hotkey:"ctrl \u21B5",action:"to open in new tab"},{hotkey:"esc",action:"to dismiss"}],"home-tab-hotkey-suggestions"):void 0},r.settings.searchDelay);this.plugin=r,this.view=i,this.searchBar=n,this.omnisearch=omnisearch,this.scope.register(["Mod"],"Enter",s=>{s.preventDefault(),this.useSelectedItem(this.suggester.getSelectedItem(),!0)})}updateSearchBarContainerEl(t){var r;(r=this.inputEl.parentElement)==null||r.toggleClass("is-active",t)}onOpen(){this.updateSearchBarContainerEl(this.suggester.getSuggestions().length>0)}onClose(){this.updateSearchBarContainerEl(!1)}async getSuggestions(t){return(await this.omnisearch.search(t)).splice(0,this.plugin.settings.maxResults)}useSelectedItem(t,r){var a;let i=this.plugin.settings,n=(a=t.matches)==null?void 0:a.find(l=>l.match&&t.path&&l.match&&l.match!==t.basename&&l.offset>0);if(i.autoJumpToHeading&&n&&n.match){let l=`${t.path}#${n.match}`;this.app.workspace.openLinkText(l,"",r!=null?r:!1);return}let s=this.app.vault.getAbstractFileByPath(t.path);s&&s instanceof sr.TFile&&this.openFile(s,r)}getDisplayElementProps(t){let r=t.basename,i,n;if(this.plugin.settings.showPath&&(i=t.path),this.plugin.settings.showOmnisearchExcerpt){let s=t.foundWords.map(l=>Ts(l)),a=Is(s,"gi");n=this.highlightMatches(t.excerpt,a)}return{nameToDisplay:r,filePath:i,excerpt:n}}getDisplayElementComponentType(){return Cs}openFile(t,r){r?this.app.workspace.createLeafInTabGroup().openFile(t):this.view.leaf.openFile(t)}highlightMatches(t,r){return t.replace(r,i=>`<span class="suggestion-highlight omnisearch-highlight omnisearch-default-highlight">${i}</span>`)}};var Ms=require("obsidian");function Tu(o){let e;return{c(){e=L("span"),e.textContent=`${o[4].name}`},m(t,r){x(t,e,r)},p:$,d(t){t&&_(e)}}}function Iu(o){let e,t;return{c(){e=L("span"),t=ue(o[3]),p(e,"class","home-tab-suggestion-tip")},m(r,i){x(r,e,i),S(e,t)},p(r,i){i&8&&ge(t,r[3])},d(r){r&&_(e)}}}function Eu(o){let e;return{c(){e=L("span"),e.textContent=`${o[4].url}`},m(t,r){x(t,e,r)},p:$,d(t){t&&_(e)}}}function Mu(o){let e,t=o[4].type!="newUrl"&&Eu(o);return{c(){t&&t.c(),e=be()},m(r,i){t&&t.m(r,i),x(r,e,i)},p(r,i){r[4].type!="newUrl"&&t.p(r,i)},d(r){t&&t.d(r),r&&_(e)}}}function Ou(o){let e,t;return e=new Ie({props:{index:o[0],textInputSuggester:o[1],selectedItemIndex:o[2],suggestionTitleClass:"suggestion-title home-tab-suggestion-title}",$$slots:{"suggestion-extra-content":[Mu],"suggestion-aux":[Iu],"suggestion-title":[Tu]},$$scope:{ctx:o}}}),{c(){O(e.$$.fragment)},m(r,i){M(e,r,i),t=!0},p(r,[i]){let n={};i&1&&(n.index=r[0]),i&2&&(n.textInputSuggester=r[1]),i&4&&(n.selectedItemIndex=r[2]),i&72&&(n.$$scope={dirty:i,ctx:r}),e.$set(n)},i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function Lu(o,e,t){let{index:r}=e,{textInputSuggester:i}=e,{selectedItemIndex:n}=e,{suggestion:s}=e,{info:a}=e,l=s.item;return o.$$set=u=>{"index"in u&&t(0,r=u.index),"textInputSuggester"in u&&t(1,i=u.textInputSuggester),"selectedItemIndex"in u&&t(2,n=u.selectedItemIndex),"suggestion"in u&&t(5,s=u.suggestion),"info"in u&&t(3,a=u.info)},[r,i,n,a,l,s]}var Kn=class extends R{constructor(e){super(),H(this,e,Lu,Ou,D,{index:0,textInputSuggester:1,selectedItemIndex:2,suggestion:5,info:3})}},Es=Kn;var Mo=class extends $e{constructor(t,r,i,n){super(t,te(n.searchBarEl),te(n.suggestionContainerEl),{containerClass:`home-tab-suggestion-container ${Ms.Platform.isPhone?"is-phone":""}`,additionalClasses:`${r.settings.selectionHighlight==="accentColor"?"use-accent-color":""}`,additionalModalInfo:r.settings.showShortcuts?gt([{hotkey:"\u2191\u2193",action:"to navigate"},{hotkey:"\u21B5",action:"to open"},{hotkey:"ctrl \u21B5",action:"to open in new tab"},{hotkey:"esc",action:"to dismiss"}],"home-tab-hotkey-suggestions"):void 0},r.settings.searchDelay);this.surfingJSONfile="surfing-bookmark.json";this.plugin=r,this.view=i,this.searchBar=n,this.surfingPlugin=this.app.plugins.getPlugin("surfing"),this.fuzzySearch=new Qo(this.getSurfingItems()),this.scope.register(["Mod"],"Enter",s=>{s.preventDefault(),this.useSelectedItem(this.suggester.getSelectedItem(),!0)})}updateSearchBarContainerEl(t){var r;(r=this.inputEl.parentElement)==null||r.toggleClass("is-active",t)}onOpen(){this.updateSearchBarContainerEl(this.suggester.getSuggestions().length>0)}onClose(){this.updateSearchBarContainerEl(!1)}onNoSuggestion(){let t=this.inputEl.value;t?(this.suggester.setSuggestions([{item:{type:"newUrl",name:t,url:t},refIndex:0,score:0}]),this.open()):this.close()}async getSuggestions(t){return this.fuzzySearch.rawSearch(t,this.plugin.settings.maxResults)}async useSelectedItem(t,r){let i=this.app.workspace.getMostRecentLeaf();i&&await this.patchLeaf(i,t.item.url)}async patchLeaf(t,r){let i={url:r,active:!0};return await t.setViewState({type:"surfing-view",state:i}),t.view}getDisplayElementProps(t){let r="",i="",n="";return t.item.type==="newUrl"&&(r=`Search with ${this.surfingPlugin.settings.defaultSearchEngine}`,i=t.item.name||"",n=t.item.url||""),{info:r,nameToDisplay:i,url:n}}getDisplayElementComponentType(){return Es}getSurfingItems(){return[]}getHistory(){return[]}getOpenitems(){return[]}async getBookmarks(){return JSON.parse(await this.app.vault.adapter.read(`${this.app.vault.configDir}/${this.surfingJSONfile}`))}async getBookmarkedItems(){let t=[];return(await this.getBookmarks()).bookmarks.forEach(r=>t.push({type:"bookmark",name:r.name,url:r.url,description:r.description})),t}};var As=require("obsidian");function io(o){if(o=o.trim(),o.length<3)return!1;if(o.startsWith("http://")||o.startsWith("https://"))try{return new URL(o),!0}catch(t){return!1}if([".com",".org",".net",".edu",".gov",".io",".so",".vip",".top",".xyz",".info",".me",".cn",".com.cn",".org.cn",".net.cn",".gov.cn",".edu.cn",".hk",".tw",".jp",".kr",".uk",".de",".fr",".ru",".br",".in"].some(t=>o.toLowerCase().includes(t)))try{return new URL("https://"+o),!0}catch(t){return!1}if(o.includes(".")&&!o.startsWith(".")&&!o.endsWith("."))try{return new URL("https://"+o),!0}catch(t){return!1}return!1}function Os(o){return!o.startsWith("http://")&&!o.startsWith("https://")?"https://"+o:o}function Pu(o){let e,t,r=Ls(o[0])+"",i;return{c(){e=L("span"),t=ue("Open link: "),i=ue(r)},m(n,s){x(n,e,s),S(e,t),S(e,i)},p(n,s){s&1&&r!==(r=Ls(n[0])+"")&&ge(i,r)},d(n){n&&_(e)}}}function Au(o){let e,t,r,i,n;return t=new Eo({props:{size:15}}),{c(){e=L("div"),O(t.$$.fragment),r=C(),i=L("span"),i.textContent="WebViewer",p(e,"class","home-tab-suggestion-filepath")},m(s,a){x(s,e,a),M(t,e,null),S(e,r),S(e,i),n=!0},p:$,i(s){n||(b(t.$$.fragment,s),n=!0)},o(s){k(t.$$.fragment,s),n=!1},d(s){s&&_(e),I(t)}}}function Bu(o){let e,t;return e=new Ie({props:{index:o[1],textInputSuggester:o[3],selectedItemIndex:o[2],$$slots:{"suggestion-aux":[Au],"suggestion-title":[Pu]},$$scope:{ctx:o}}}),{c(){O(e.$$.fragment)},m(r,i){M(e,r,i),t=!0},p(r,[i]){let n={};i&2&&(n.index=r[1]),i&8&&(n.textInputSuggester=r[3]),i&4&&(n.selectedItemIndex=r[2]),i&17&&(n.$$scope={dirty:i,ctx:r}),e.$set(n)},i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function Ls(o){return o.replace(/^https?:\/\//,"")}function Ru(o,e,t){let{url:r}=e,{index:i}=e,{selectedItemIndex:n}=e,{textInputSuggester:s}=e;return o.$$set=a=>{"url"in a&&t(0,r=a.url),"index"in a&&t(1,i=a.index),"selectedItemIndex"in a&&t(2,n=a.selectedItemIndex),"textInputSuggester"in a&&t(3,s=a.textInputSuggester)},[r,i,n,s]}var Jn=class extends R{constructor(e){super(),H(this,e,Ru,Bu,D,{url:0,index:1,selectedItemIndex:2,textInputSuggester:3})}},Ps=Jn;var xt=class extends $e{constructor(t,r,i,n){super(t,te(n.searchBarEl),te(n.suggestionContainerEl),{containerClass:`home-tab-suggestion-container ${As.Platform.isPhone?"is-phone":""}`,additionalClasses:`${r.settings.selectionHighlight==="accentColor"?"use-accent-color":""}`,additionalModalInfo:r.settings.showShortcuts?gt([{hotkey:"\u21B5",action:"to open"},{hotkey:"ctrl \u21B5",action:"to open in new tab"},{hotkey:"esc",action:"to dismiss"}],"home-tab-hotkey-suggestions"):void 0},r.settings.searchDelay);this.plugin=r,this.searchBar=n,this.scope.register(["Mod"],"Enter",s=>{s.preventDefault(),this.useSelectedItem(this.suggester.getSelectedItem(),!0)}),this.scope.register([],"Enter",s=>(s.preventDefault(),this.useSelectedItem(this.suggester.getSelectedItem(),!1),!1))}async getSuggestions(t){let r=t.trim();return r?r.startsWith("http://")||r.startsWith("https://")?[{url:r}]:io(r)?[{url:`https://${r}`}]:[]:[]}async useSelectedItem(t,r=!1){if(!t)return;await(r?this.app.workspace.getLeaf("tab"):this.app.workspace.getLeaf()).setViewState({type:"webviewer",active:!0,state:{url:Os(t.url)}})}getDisplayElementComponentType(){return Ps}getDisplayElementProps(t){return{url:t.url}}onOpen(){let t=this.suggester.getSuggestions();t&&t.length>0&&this.suggester.setSelectedItemIndex(0)}};var Du=["omnisearch","omni"],Hu=["surfing","web","internet"],so={default:[],omnisearch:[...Du],webSearch:[...Hu],fileType:[...zi],fileExtension:[...ji]},Bs=[...so.omnisearch,...so.webSearch,...so.fileType,...so.fileExtension],ao=class{constructor(e,t,r){this.app=t.app,this.view=t,this.plugin=e,this.searchBarEl=Ae(),this.activeExtEl=Ae(),this.suggestionContainerEl=Ae(),this.onLoad=r,this.activeFilter="default"}setSearchBarEl(e){!e||(this.searchBarEl.set(e),e.addEventListener("input",()=>{let t=e.value.trim();this.handleInput(t)}))}handleInput(e){this.fileSuggester||this.createDefaultSuggester(),e&&io(e)&&!Bt.Platform.isMobile?(this.fileSuggester instanceof xt||(this.fileSuggester.close(),this.fileSuggester.destroy(),this.fileSuggester=new xt(this.plugin.app,this.plugin,this.view,this)),this.fileSuggester.onInput()):this.fileSuggester instanceof xt?(this.fileSuggester.close(),this.fileSuggester.destroy(),this.createDefaultSuggester(),this.fileSuggester.onInput()):this.fileSuggester.onInput()}createDefaultSuggester(){this.plugin.settings.omnisearch&&this.plugin.app.plugins.getPlugin("omnisearch")?this.fileSuggester=new _t(this.app,this.plugin,this.view,this):this.fileSuggester=new ht(this.app,this.plugin,this.view,this)}focusSearchbar(){this.searchBarEl&&te(this.searchBarEl).focus()}load(){var t,r;let e=((r=(t=te(this.searchBarEl))==null?void 0:t.value)==null?void 0:r.trim())||"";this.fileSuggester&&this.fileSuggester.destroy(),this.createSuggester(e),this.onLoad&&this.onLoad()}createSuggester(e){if(e&&io(e)&&!Bt.Platform.isMobile){this.fileSuggester=new xt(this.plugin.app,this.plugin,this.view,this),this.fileSuggester.onInput();return}this.plugin.settings.omnisearch&&this.plugin.app.plugins.getPlugin("omnisearch")?this.fileSuggester=new _t(this.plugin.app,this.plugin,this.view,this):this.fileSuggester=new ht(this.plugin.app,this.plugin,this.view,this)}updateActiveSuggester(e){var n,s;this.fileSuggester.destroy();let t=te(this.activeExtEl),r=((s=(n=te(this.searchBarEl))==null?void 0:n.value)==null?void 0:s.trim())||"";if(r&&io(r)&&!Bt.Platform.isMobile){t.toggleClass("hide",!0),this.createSuggester(r);return}let i="default";for(let a of Object.keys(so))so[a].includes(e)&&(i=a);switch(t.setText(i),this.activeFilter=i,i){case"default":t.toggleClass("hide",!0),this.plugin.settings.omnisearch&&this.plugin.app.plugins.getPlugin("omnisearch")?this.fileSuggester=new _t(this.plugin.app,this.plugin,this.view,this):this.fileSuggester=new ht(this.plugin.app,this.plugin,this.view,this),this.fileSuggester.onInput();break;case"omnisearch":this.app.plugins.getPlugin("omnisearch")?(t.toggleClass("hide",!1),this.fileSuggester=new _t(this.plugin.app,this.plugin,this.view,this),this.fileSuggester.onInput()):(new Bt.Notice("Omnisearch plugins is not enabled."),this.updateActiveSuggester("default"));break;case"webSearch":this.app.plugins.getPlugin("surfing")?(t.toggleClass("hide",!1),this.fileSuggester=new Mo(this.plugin.app,this.plugin,this.view,this),this.fileSuggester.onInput()):(new Bt.Notice("Surfing plugin is not enabled."),this.updateActiveSuggester("default"));break;case"fileExtension":case"fileType":this.fileSuggester=new ht(this.plugin.app,this.plugin,this.view,this),this.fileSuggester.setFileFilter(e),t.toggleClass("hide",!1),t.setText(e),this.fileSuggester.onInput();break;default:break}}};function Vu(o){Le(o,"svelte-1v6c0q",".home-tab-searchbar-container.svelte-1v6c0q.svelte-1v6c0q{display:flex;align-items:center;flex-direction:column}.home-tab-searchbar.svelte-1v6c0q.svelte-1v6c0q{display:flex;min-width:250px;max-width:700px;margin:0 auto;height:calc(var(--input-height)*1.25);background-color:var(--background-modifier-form-field);border:var(--input-border-width) solid var(--background-modifier-border);padding:var(--size-2-3);border-radius:var(--input-radius);outline:none}.home-tab-searchbar.svelte-1v6c0q input.svelte-1v6c0q{width:100%;height:100%;box-shadow:none;font-size:var(--font-ui-medium);background:none;border:none;padding-left:12px}.home-tab-searchbar.svelte-1v6c0q input.svelte-1v6c0q:hover{background:none;border:none}.home-tab-suggestion-file-tag.hide.svelte-1v6c0q.svelte-1v6c0q{display:none}")}function zu(o){let e,t,r,i,n,s,a;return{c(){e=L("div"),t=L("div"),r=L("div"),i=C(),n=L("input"),p(r,"class","nav-file-tag home-tab-suggestion-file-tag hide svelte-1v6c0q"),p(n,"type","search"),p(n,"spellcheck","false"),p(n,"placeholder","Type to start search..."),p(n,"class","svelte-1v6c0q"),p(t,"class","home-tab-searchbar svelte-1v6c0q"),Fe(t,"embedded",o[0]),se(t,"width",o[0]||o[7]?"90%":"50%"),p(e,"class","home-tab-searchbar-container svelte-1v6c0q")},m(l,u){x(l,e,u),S(e,t),S(t,r),o[10](r),S(t,i),S(t,n),Or(n,o[1]),o[12](n),o[14](e),s||(a=[Pe(n,"input",o[11]),Pe(n,"keydown",o[13])],s=!0)},p(l,[u]){u&2&&n.value!==l[1]&&Or(n,l[1]),u&1&&Fe(t,"embedded",l[0]),u&1&&se(t,"width",l[0]||l[7]?"90%":"50%")},i:$,o:$,d(l){l&&_(e),o[10](null),o[12](null),o[14](null),s=!1,ke(a)}}}function ju(o,e,t){let r,i,{HomeTabSearchBar:n}=e,{embedded:s=!1}=e,a=n.searchBarEl,l=n.activeExtEl;ho(o,l,T=>t(4,i=T));let u=n.suggestionContainerEl;ho(o,u,T=>t(3,r=T));let f=Rs.Platform.isPhone,c="",d;Pr(()=>{d&&n.setSearchBarEl(d)});function m(T){if(T.key==="Backspace"){if(c!="")return;n.activeFilter&&n.updateActiveSuggester("default")}if(T.key==="Tab"){T.preventDefault();let F=c.toLowerCase();Bs.find(A=>A===F)&&n.updateActiveSuggester(F)}}function g(T){ct[T?"unshift":"push"](()=>{i=T,l.set(i)})}function h(){c=this.value,t(1,c)}function v(T){ct[T?"unshift":"push"](()=>{d=T,t(2,d)})}let w=T=>m(T);function B(T){ct[T?"unshift":"push"](()=>{r=T,u.set(r)})}return o.$$set=T=>{"HomeTabSearchBar"in T&&t(9,n=T.HomeTabSearchBar),"embedded"in T&&t(0,s=T.embedded)},[s,c,d,r,i,l,u,f,m,n,g,h,v,w,B]}var Yn=class extends R{constructor(e){super(),H(this,e,ju,zu,D,{HomeTabSearchBar:9,embedded:0},Vu)}},Ds=Yn;var Oo=Ae(),ar=Ae(),Xe=Ae([]);var ri=require("obsidian");var Ns=require("obsidian");var Lo=require("obsidian");var Zn=require("obsidian");function Nu(o){let e=o[3].item+"",t;return{c(){t=ue(e)},m(r,i){x(r,t,i)},p(r,i){i&8&&e!==(e=r[3].item+"")&&ge(t,e)},d(r){r&&_(t)}}}function Hs(o){var r;let e,t=((r=(0,Zn.getIcon)(o[3].item))==null?void 0:r.outerHTML)+"";return{c(){e=L("span"),p(e,"class","suggestion-flair")},m(i,n){x(i,e,n),e.innerHTML=t},p(i,n){var s;n&8&&t!==(t=((s=(0,Zn.getIcon)(i[3].item))==null?void 0:s.outerHTML)+"")&&(e.innerHTML=t)},d(i){i&&_(e)}}}function Wu(o){let e,t=o[4]&&Hs(o);return{c(){t&&t.c(),e=be()},m(r,i){t&&t.m(r,i),x(r,e,i)},p(r,i){r[4]?t?t.p(r,i):(t=Hs(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&_(e)}}}function $u(o){let e,t;return e=new Ie({props:{index:o[0],textInputSuggester:o[1],selectedItemIndex:o[2],$$slots:{"suggestion-aux":[Wu],"suggestion-title":[Nu]},$$scope:{ctx:o}}}),{c(){O(e.$$.fragment)},m(r,i){M(e,r,i),t=!0},p(r,[i]){let n={};i&1&&(n.index=r[0]),i&2&&(n.textInputSuggester=r[1]),i&4&&(n.selectedItemIndex=r[2]),i&56&&(n.$$scope={dirty:i,ctx:r}),e.$set(n)},i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function qu(o,e,t){let{index:r}=e,{textInputSuggester:i}=e,{selectedItemIndex:n}=e,{suggestion:s}=e,{displayIcon:a}=e;return o.$$set=l=>{"index"in l&&t(0,r=l.index),"textInputSuggester"in l&&t(1,i=l.textInputSuggester),"selectedItemIndex"in l&&t(2,n=l.selectedItemIndex),"suggestion"in l&&t(3,s=l.suggestion),"displayIcon"in l&&t(4,a=l.displayIcon)},[r,i,n,s,a]}var Qn=class extends R{constructor(e){super(),H(this,e,qu,$u,D,{index:0,textInputSuggester:1,selectedItemIndex:2,suggestion:3,displayIcon:4})}},Vs=Qn;var Rt=class extends mt{constructor(t,r,i,n){super(t,r,i);this.iconList=[...At],this.fuzzySearch=new Ft(this.iconList),this.displayIcon=n!=null?n:!1}getSuggestions(t){return this.fuzzySearch.filteredSearch(t,.25,15)}useSelectedItem(t){this.inputEl.value=t.item,this.inputEl.trigger("input"),this.onInput().then(()=>this.close())}getDisplayElementComponentType(){return Vs}getDisplayElementProps(){return{displayIcon:this.displayIcon}}};var lr=class extends Lo.Modal{constructor(t,r,i){super(t);this.icon=r,this.onSubmit=i}onOpen(){let{contentEl:t}=this;t.createEl("h1",{text:"Set a custom icon"});let r=new Lo.Setting(t).setName("Choose an icon").setDesc("Accepts any lucide icon id."),i;r.addExtraButton(n=>{n.setIcon("alert-circle").setTooltip("The icon id is not valid."),i=n.extraSettingsEl,i.toggleVisibility(!1),i.addClass("mod-warning")}),r.addSearch(n=>{var s,a;new Rt(this.app,n.inputEl,{isScrollable:!0,style:"max-height: 200px"},!0),(a=n.setPlaceholder("Type to start search...").setValue((s=this.icon)!=null?s:"").onChange(l=>{At.includes(l)?(this.icon=l,i.toggleVisibility(!1)):i.toggleVisibility(!0)}).inputEl.parentElement)==null||a.addClass("wide-input-container")}),new Lo.Setting(t).addButton(n=>n.setButtonText("Close modal").onClick(()=>{this.close()})).addButton(n=>n.setButtonText("Set icon").setCta().onClick(()=>{this.icon&&this.onSubmit(this.icon),this.close()}))}onClose(){this.icon=void 0;let{contentEl:t}=this;t.empty()}};var Po=require("obsidian");function Uu(o){Le(o,"svelte-1gyh8cg",".home-tab-file-item.svelte-1gyh8cg{margin:5px;padding:5px;border-radius:var(--radius-m);min-width:75px;max-width:125px;position:relative}.home-tab-file-item.svelte-1gyh8cg:hover{background-color:var(--background-modifier-hover)}.home-tab-file-item.use-accent-color.svelte-1gyh8cg:hover{color:white;background:var(--interactive-accent)}.home-tab-file-item-preview-icon.svelte-1gyh8cg{display:flex;align-items:center;justify-content:center;padding:var(--size-2-3)}.home-tab-file-item-name.svelte-1gyh8cg{text-align:center;font-size:var(--font-ui-small);display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3;-webkit-box-orient:vertical}.home-tab-file-item-remove_btn.svelte-1gyh8cg{opacity:0;position:absolute;top:4px;right:4px}.home-tab-file-item-remove_btn.svelte-1gyh8cg:hover{opacity:1}")}function Gu(o){let e,t;return e=new Io({props:{strokeWidth:1}}),{c(){O(e.$$.fragment)},m(r,i){M(e,r,i),t=!0},p:$,i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function Xu(o){let e,t;return e=new Fn({props:{strokeWidth:1}}),{c(){O(e.$$.fragment)},m(r,i){M(e,r,i),t=!0},p:$,i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function Ku(o){let e,t;return e=new yn({props:{strokeWidth:1}}),{c(){O(e.$$.fragment)},m(r,i){M(e,r,i),t=!0},p:$,i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function Ju(o){let e,t;return e=new Pn({props:{strokeWidth:1}}),{c(){O(e.$$.fragment)},m(r,i){M(e,r,i),t=!0},p:$,i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function Yu(o){let e,t;return e=new Sn({props:{strokeWidth:1}}),{c(){O(e.$$.fragment)},m(r,i){M(e,r,i),t=!0},p:$,i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function Zu(o){let e,t;return e=new On({props:{strokeWidth:1}}),{c(){O(e.$$.fragment)},m(r,i){M(e,r,i),t=!0},p:$,i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function Qu(o){var i;let e,t=((i=(0,Po.getIcon)(o[3]))==null?void 0:i.innerHTML)+"",r;return{c(){e=y("svg"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width","24"),p(e,"height","24"),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"stroke","currentColor"),p(e,"stroke-width","1"),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round"),p(e,"class",r="lucide-icon lucide lucide-"+o[3]+" svelte-1gyh8cg")},m(n,s){x(n,e,s),e.innerHTML=t},p(n,s){var a;s&8&&t!==(t=((a=(0,Po.getIcon)(n[3]))==null?void 0:a.innerHTML)+"")&&(e.innerHTML=t),s&8&&r!==(r="lucide-icon lucide lucide-"+n[3]+" svelte-1gyh8cg")&&p(e,"class",r)},i:$,o:$,d(n){n&&_(e)}}}function ec(o){let e,t,r,i,n,s,a,l,u,f,c,d;r=new qn({props:{strokeWidth:1,width:24,height:24,class:"svg-icon lucide-x"}});let m=[Qu,Zu,Yu,Ju,Ku,Xu,Gu],g=[];function h(v,w){return v[3]?0:v[5]==="markdown"?1:v[5]==="image"?2:v[5]==="video"?3:v[5]==="audio"?4:v[5]==="pdf"?5:6}return s=h(o,-1),a=g[s]=m[s](o),{c(){e=L("div"),t=L("div"),O(r.$$.fragment),i=C(),n=L("div"),a.c(),l=C(),u=L("div"),u.textContent=`${o[4]}`,p(t,"class","home-tab-file-item-remove_btn svelte-1gyh8cg"),p(t,"aria-label","File options"),p(n,"class","home-tab-file-item-preview-icon svelte-1gyh8cg"),p(u,"class","home-tab-file-item-name svelte-1gyh8cg"),p(e,"class","home-tab-file-item svelte-1gyh8cg"),Fe(e,"use-accent-color",o[1].selectionHighlight==="accentColor")},m(v,w){x(v,e,w),S(e,t),M(r,t,null),S(e,i),S(e,n),g[s].m(n,null),S(e,l),S(e,u),f=!0,c||(d=[Pe(t,"click",o[9]),Pe(e,"mousedown",ki(o[10]))],c=!0)},p(v,[w]){let B=s;s=h(v,w),s===B?g[s].p(v,w):(ye(),k(g[B],1,1,()=>{g[B]=null}),we(),a=g[s],a?a.p(v,w):(a=g[s]=m[s](v),a.c()),b(a,1),a.m(n,null)),(!f||w&2)&&Fe(e,"use-accent-color",v[1].selectionHighlight==="accentColor")},i(v){f||(b(r.$$.fragment,v),b(a),f=!0)},o(v){k(r.$$.fragment,v),k(a),f=!1},d(v){v&&_(e),I(r),g[s].d(),c=!1,ke(d)}}}function tc(o,e,t){let{app:r}=e,{file:i}=e,{pluginSettings:n}=e,{contextualMenu:s}=e,{customIcon:a=void 0}=e,l=i.basename,u=xo(i.extension),f=Ar();function c(h,v){r.workspace.getLeaf(v).openFile(h)}function d(h,v){h.target.classList.contains("home-tab-file-item-remove_btn")||h.button!=2&&c(v,Po.Keymap.isModEvent(h))}let m=h=>{s.showAtMouseEvent(h),f("itemMenu",{file:i})},g=h=>d(h,i);return o.$$set=h=>{"app"in h&&t(8,r=h.app),"file"in h&&t(0,i=h.file),"pluginSettings"in h&&t(1,n=h.pluginSettings),"contextualMenu"in h&&t(2,s=h.contextualMenu),"customIcon"in h&&t(3,a=h.customIcon)},[i,n,s,a,l,u,f,d,r,m,g]}var ei=class extends R{constructor(e){super(),H(this,e,tc,ec,D,{app:8,file:0,pluginSettings:1,contextualMenu:2,customIcon:3},Uu)}},fr=ei;function oc(o){Le(o,"svelte-vhq7y8",".home-tab-bookmarked-files-container.svelte-vhq7y8{display:flex;align-items:baseline;justify-content:center;flex-wrap:wrap;width:65%;max-width:900px;padding-top:30px;margin:auto}")}function zs(o,e,t){let r=o.slice();return r[9]=e[t],r}function js(o,e){let t,r,i;return r=new fr({props:{file:e[9].file,customIcon:e[9].iconId,app:e[3],pluginSettings:e[1],contextualMenu:e[4]}}),r.$on("itemMenu",e[7]),{key:o,first:null,c(){t=be(),O(r.$$.fragment),this.first=t},m(n,s){x(n,t,s),M(r,n,s),i=!0},p(n,s){e=n;let a={};s&1&&(a.file=e[9].file),s&1&&(a.customIcon=e[9].iconId),s&2&&(a.pluginSettings=e[1]),r.$set(a)},i(n){i||(b(r.$$.fragment,n),i=!0)},o(n){k(r.$$.fragment,n),i=!1},d(n){n&&_(t),I(r,n)}}}function rc(o){let e,t=[],r=new Map,i,n=o[0],s=a=>a[9].file.path;for(let a=0;a<n.length;a+=1){let l=zs(o,n,a),u=s(l);r.set(u,t[a]=js(u,l))}return{c(){e=L("div");for(let a=0;a<t.length;a+=1)t[a].c();p(e,"class","home-tab-bookmarked-files-container svelte-vhq7y8")},m(a,l){x(a,e,l);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);i=!0},p(a,[l]){l&31&&(n=a[0],ye(),t=Kt(t,l,s,1,a,n,r,e,Xt,js,null,zs),we())},i(a){if(!i){for(let l=0;l<n.length;l+=1)b(t[l]);i=!0}},o(a){for(let l=0;l<t.length;l+=1)k(t[l]);i=!1},d(a){a&&_(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function nc(o,e,t){let{view:r}=e,{bookmarkedFiles:i}=e,{pluginSettings:n}=e,{bookmarkedFileManager:s}=e,a=r.leaf.app,l,u=new lr(a,void 0,d=>s.updateFileIcon(l,d)),f=new Ns.Menu().addItem(d=>d.setTitle("Remove bookmark").setIcon("trash-2").onClick(()=>s.removeBookmark(l))).addSeparator().addItem(d=>d.setTitle("Set custom icon").setIcon("plus").onClick(()=>u.open())).setUseNativeMenu(a.vault.config.nativeMenus),c=d=>t(2,l=d.detail.file);return o.$$set=d=>{"view"in d&&t(5,r=d.view),"bookmarkedFiles"in d&&t(0,i=d.bookmarkedFiles),"pluginSettings"in d&&t(1,n=d.pluginSettings),"bookmarkedFileManager"in d&&t(6,s=d.bookmarkedFileManager)},[i,n,l,a,f,r,s,c]}var ti=class extends R{constructor(e){super(),H(this,e,nc,rc,D,{view:5,bookmarkedFiles:0,pluginSettings:1,bookmarkedFileManager:6},oc)}},Ws=ti;var Us=require("obsidian");function ic(o){Le(o,"svelte-1xy0abl",".home-tab-recent-files-container.svelte-1xy0abl{width:65%;display:flex;flex-direction:column;padding-top:20px;margin:auto}.home-tab-recent-files-title.svelte-1xy0abl{text-align:center;font-weight:600;font-size:var(--font-ui-large);padding-bottom:5px}.home-tab-recent-files-wrapper.svelte-1xy0abl{display:flex;max-width:900px;align-items:center;justify-content:center;flex-wrap:wrap;margin:auto}@media(max-width: 600px){.home-tab-recent-files-container.svelte-1xy0abl{padding-bottom:75px}}")}function $s(o,e,t){let r=o.slice();return r[8]=e[t],r}function qs(o,e){let t,r,i;return r=new fr({props:{file:e[8].file,app:e[3],pluginSettings:e[1],contextualMenu:e[4]}}),r.$on("itemMenu",e[7]),{key:o,first:null,c(){t=be(),O(r.$$.fragment),this.first=t},m(n,s){x(n,t,s),M(r,n,s),i=!0},p(n,s){e=n;let a={};s&1&&(a.file=e[8].file),s&2&&(a.pluginSettings=e[1]),r.$set(a)},i(n){i||(b(r.$$.fragment,n),i=!0)},o(n){k(r.$$.fragment,n),i=!1},d(n){n&&_(t),I(r,n)}}}function sc(o){let e,t,r,i,n=[],s=new Map,a,l=o[0],u=f=>f[8].file.path;for(let f=0;f<l.length;f+=1){let c=$s(o,l,f),d=u(c);s.set(d,n[f]=qs(d,c))}return{c(){e=L("div"),t=L("div"),t.textContent="Recent files",r=C(),i=L("div");for(let f=0;f<n.length;f+=1)n[f].c();p(t,"class","home-tab-recent-files-title svelte-1xy0abl"),p(i,"class","home-tab-recent-files-wrapper svelte-1xy0abl"),p(e,"class","home-tab-recent-files-container svelte-1xy0abl")},m(f,c){x(f,e,c),S(e,t),S(e,r),S(e,i);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(i,null);a=!0},p(f,[c]){c&31&&(l=f[0],ye(),n=Kt(n,c,u,1,f,l,s,i,Xt,qs,null,$s),we())},i(f){if(!a){for(let c=0;c<l.length;c+=1)b(n[c]);a=!0}},o(f){for(let c=0;c<n.length;c+=1)k(n[c]);a=!1},d(f){f&&_(e);for(let c=0;c<n.length;c+=1)n[c].d()}}}function ac(o,e,t){let{view:r}=e,{recentFileList:i}=e,{pluginSettings:n}=e,{recentFileManager:s}=e,a=r.leaf.app,l,u=new Us.Menu().addItem(c=>c.setTitle("Hide file").setIcon("eye-off").onClick(()=>s.removeRecentFile(l))).setUseNativeMenu(a.vault.config.nativeMenus),f=c=>t(2,l=c.detail.file);return o.$$set=c=>{"view"in c&&t(5,r=c.view),"recentFileList"in c&&t(0,i=c.recentFileList),"pluginSettings"in c&&t(1,n=c.pluginSettings),"recentFileManager"in c&&t(6,s=c.recentFileManager)},[i,n,l,a,u,r,s,f]}var oi=class extends R{constructor(e){super(),H(this,e,ac,sc,D,{view:5,recentFileList:0,pluginSettings:1,recentFileManager:6},ic)}},Gs=oi;function lc(o){Le(o,"svelte-1yjwmjb",".home-tab-logo.svelte-1yjwmjb svg.svelte-1yjwmjb{height:unset;width:unset}.home-tab-wordmark-container.svelte-1yjwmjb.svelte-1yjwmjb{display:flex;align-items:center;justify-content:center;margin-bottom:50px}.home-tab.svelte-1yjwmjb:not(.embedded) .home-tab-wordmark-container.svelte-1yjwmjb{padding-top:100px}.home-tab-wordmark.svelte-1yjwmjb h1.svelte-1yjwmjb{margin:unset}@media(max-width: 600px){.home-tab-wordmark-container.svelte-1yjwmjb.svelte-1yjwmjb{display:flex;flex-direction:column;justify-content:center}.home-tab-wordmark.svelte-1yjwmjb.svelte-1yjwmjb{text-align:center}}@media(max-height: 1000px){.home-tab.svelte-1yjwmjb:not(.embedded) .home-tab-wordmark-container.svelte-1yjwmjb{padding-top:10px}}")}function Xs(o){let e,t,r,i,n=o[5].wordmark+"",s,a=o[5].logoType!=="none"&&Ks(o);return{c(){e=L("div"),a&&a.c(),t=C(),r=L("div"),i=L("h1"),s=ue(n),se(i,"font-family",o[5].customFont==="interfaceFont"?"var(--interface-font)":o[5].customFont==="textFont"?"var(--font-text)":o[5].customFont==="monospaceFont"?"var(--font-monospace)":o[5].font),se(i,"font-size",o[5].fontSize),se(i,"font-weight",o[5].fontWeight.toString()),se(i,"color",o[5].fontColorType==="default"?"":o[5].fontColorType==="accentColor"?"var(--interactive-accent)":o[5].fontColor),p(i,"class","svelte-1yjwmjb"),p(r,"class","home-tab-wordmark svelte-1yjwmjb"),p(e,"class","home-tab-wordmark-container svelte-1yjwmjb")},m(l,u){x(l,e,u),a&&a.m(e,null),S(e,t),S(e,r),S(r,i),S(i,s)},p(l,u){l[5].logoType!=="none"?a?a.p(l,u):(a=Ks(l),a.c(),a.m(e,t)):a&&(a.d(1),a=null),u&32&&n!==(n=l[5].wordmark+"")&&ge(s,n),u&32&&se(i,"font-family",l[5].customFont==="interfaceFont"?"var(--interface-font)":l[5].customFont==="textFont"?"var(--font-text)":l[5].customFont==="monospaceFont"?"var(--font-monospace)":l[5].font),u&32&&se(i,"font-size",l[5].fontSize),u&32&&se(i,"font-weight",l[5].fontWeight.toString()),u&32&&se(i,"color",l[5].fontColorType==="default"?"":l[5].fontColorType==="accentColor"?"var(--interactive-accent)":l[5].fontColor)},d(l){l&&_(e),a&&a.d()}}}function Ks(o){let e;function t(n,s){if(n[5].logoType==="default")return dc;if(n[5].logoType==="oldLogo")return pc;if(n[5].logoType==="lucideIcon"&&!!n[5].logo.lucideIcon)return cc;if(n[5].logoType==="imagePath"&&!!n[5].logo.imagePath)return uc;if(n[5].logoType==="imageLink"&&!!n[5].logo.imageLink)return fc}let r=t(o,-1),i=r&&r(o);return{c(){e=L("div"),i&&i.c(),p(e,"class","home-tab-logo svelte-1yjwmjb"),se(e,"margin-right","calc("+o[5].fontSize+"/5)")},m(n,s){x(n,e,s),i&&i.m(e,null)},p(n,s){r===(r=t(n,s))&&i?i.p(n,s):(i&&i.d(1),i=r&&r(n),i&&(i.c(),i.m(e,null))),s&32&&se(e,"margin-right","calc("+n[5].fontSize+"/5)")},d(n){n&&_(e),i&&i.d()}}}function fc(o){let e,t;return{c(){e=L("img"),go(e.src,t=o[5].logo.imageLink)||p(e,"src",t),p(e,"alt","home-tab-logo"),se(e,"max-width","calc("+o[5].fontSize+"*"+o[5].logoScale+")"),se(e,"max-height","calc("+o[5].fontSize+"*"+o[5].logoScale+")")},m(r,i){x(r,e,i)},p(r,i){i&32&&!go(e.src,t=r[5].logo.imageLink)&&p(e,"src",t),i&32&&se(e,"max-width","calc("+r[5].fontSize+"*"+r[5].logoScale+")"),i&32&&se(e,"max-height","calc("+r[5].fontSize+"*"+r[5].logoScale+")")},d(r){r&&_(e)}}}function uc(o){let e,t;return{c(){e=L("img"),go(e.src,t=o[7].getResourcePath(o[5].logo.imagePath))||p(e,"src",t),p(e,"alt","home-tab-logo"),se(e,"max-width","calc("+o[5].fontSize+"*"+o[5].logoScale+")"),se(e,"max-height","calc("+o[5].fontSize+"*"+o[5].logoScale+")")},m(r,i){x(r,e,i)},p(r,i){i&32&&!go(e.src,t=r[7].getResourcePath(r[5].logo.imagePath))&&p(e,"src",t),i&32&&se(e,"max-width","calc("+r[5].fontSize+"*"+r[5].logoScale+")"),i&32&&se(e,"max-height","calc("+r[5].fontSize+"*"+r[5].logoScale+")")},d(r){r&&_(e)}}}function cc(o){var a;let e,t=((a=(0,ri.getIcon)(o[5].logo.lucideIcon))==null?void 0:a.innerHTML)+"",r,i,n,s;return{c(){e=y("svg"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width",r="calc("+o[5].fontSize+"*"+o[5].logoScale+")"),p(e,"height",i="calc("+o[5].fontSize+"*"+o[5].logoScale+")"),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"stroke",n=o[5].iconColorType==="default"?"currentColor":o[5].iconColorType==="accentColor"?"var(--interactive-accent)":o[5].iconColor),p(e,"stroke-width","2"),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round"),p(e,"class",s="svg-icon lucide-"+o[5].logo.lucideIcon+" svelte-1yjwmjb")},m(l,u){x(l,e,u),e.innerHTML=t},p(l,u){var f;u&32&&t!==(t=((f=(0,ri.getIcon)(l[5].logo.lucideIcon))==null?void 0:f.innerHTML)+"")&&(e.innerHTML=t),u&32&&r!==(r="calc("+l[5].fontSize+"*"+l[5].logoScale+")")&&p(e,"width",r),u&32&&i!==(i="calc("+l[5].fontSize+"*"+l[5].logoScale+")")&&p(e,"height",i),u&32&&n!==(n=l[5].iconColorType==="default"?"currentColor":l[5].iconColorType==="accentColor"?"var(--interactive-accent)":l[5].iconColor)&&p(e,"stroke",n),u&32&&s!==(s="svg-icon lucide-"+l[5].logo.lucideIcon+" svelte-1yjwmjb")&&p(e,"class",s)},d(l){l&&_(e)}}}function pc(o){let e,t,r,i,n,s,a,l,u,f,c,d,m,g;return{c(){e=y("svg"),t=y("defs"),r=y("linearGradient"),i=y("stop"),n=y("stop"),a=y("polygon"),l=y("polygon"),f=y("polygon"),c=y("polygon"),d=y("polygon"),p(i,"offset","0"),p(i,"stop-color","#6c56cc"),p(n,"offset","1"),p(n,"stop-color","#9785e5"),p(r,"id",s=o[8].toString()),p(r,"x1","82.85"),p(r,"y1","30.41"),p(r,"x2","51.26"),p(r,"y2","105.9"),p(r,"gradientTransform","matrix(1, 0, 0, -1, -22.41, 110.97)"),p(r,"gradientUnits","userSpaceOnUse"),p(a,"points","44.61 0 12.91 17.52 0 45.45 19.57 90.47 47.35 100 52.44 89.8 63 26.39 44.61 0"),p(a,"fill","#34208c"),p(l,"points","63 26.39 43.44 14.41 16.43 35.7 47.35 100 52.44 89.8 63 26.39"),p(l,"fill",u="url(#"+o[8]+")"),p(f,"points","63 26.39 63 26.39 44.61 0 43.44 14.41 63 26.39"),p(f,"fill","#af9ff4"),p(c,"points","43.44 14.41 44.61 0 12.91 17.52 16.43 35.7 43.44 14.41"),p(c,"fill","#4a37a0"),p(d,"points","16.43 35.7 19.57 90.47 47.35 100 16.43 35.7"),p(d,"fill","#4a37a0"),p(e,"viewBox","0 0 65 100"),p(e,"width",m="calc("+o[5].fontSize+"*"+o[5].logoScale+")"),p(e,"height",g="calc("+o[5].fontSize+"*"+o[5].logoScale+")"),p(e,"class","svelte-1yjwmjb")},m(h,v){x(h,e,v),S(e,t),S(t,r),S(r,i),S(r,n),S(e,a),S(e,l),S(e,f),S(e,c),S(e,d)},p(h,v){v&32&&m!==(m="calc("+h[5].fontSize+"*"+h[5].logoScale+")")&&p(e,"width",m),v&32&&g!==(g="calc("+h[5].fontSize+"*"+h[5].logoScale+")")&&p(e,"height",g)},d(h){h&&_(e)}}}function dc(o){let e,t,r,i,n,s,a,l,u,f,c,d,m,g,h,v,w,B,T,F,A,W,E,z,V,Q,Y,ne,ie,le,oe,fe,xe,qe,Ke,ve,st,He,Je,at,Ee,Ve,Ht,Me,lt,Vt,fo,zt,Do,jt,xr,Ye,Ho,ft,vr,Te,Nt,Ze,Vo,ut,bt;return{c(){e=y("svg"),t=y("defs"),r=y("radialGradient"),i=y("stop"),n=y("stop"),a=y("radialGradient"),l=y("stop"),u=y("stop"),c=y("radialGradient"),d=y("stop"),m=y("stop"),h=y("radialGradient"),v=y("stop"),w=y("stop"),T=y("radialGradient"),F=y("stop"),A=y("stop"),E=y("radialGradient"),z=y("stop"),V=y("stop"),Y=y("radialGradient"),ne=y("stop"),ie=y("stop"),oe=y("radialGradient"),fe=y("stop"),xe=y("stop"),qe=y("stop"),ve=y("filter"),st=y("feFlood"),He=y("feBlend"),Je=y("feGaussianBlur"),Ee=y("g"),Ve=y("path"),Me=y("path"),lt=y("path"),Vt=y("path"),zt=y("path"),jt=y("path"),Ye=y("path"),ft=y("path"),Te=y("path"),Ze=y("path"),p(i,"stop-color","#fff"),p(i,"stop-opacity",".4"),p(n,"offset","1"),p(n,"stop-opacity",".1"),p(r,"id",s=o[8].toString()+"-b"),p(r,"cx","0"),p(r,"cy","0"),p(r,"r","1"),p(r,"gradientUnits","userSpaceOnUse"),p(r,"gradientTransform","matrix(-48 -185 123 -32 179 429.7)"),p(l,"stop-color","#fff"),p(l,"stop-opacity",".6"),p(u,"offset","1"),p(u,"stop-color","#fff"),p(u,"stop-opacity",".1"),p(a,"id",f=o[8].toString()+"-c"),p(a,"cx","0"),p(a,"cy","0"),p(a,"r","1"),p(a,"gradientUnits","userSpaceOnUse"),p(a,"gradientTransform","matrix(41 -310 229 30 341.6 351.3)"),p(d,"stop-color","#fff"),p(d,"stop-opacity",".8"),p(m,"offset","1"),p(m,"stop-color","#fff"),p(m,"stop-opacity",".4"),p(c,"id",g=o[8].toString()+"-d"),p(c,"cx","0"),p(c,"cy","0"),p(c,"r","1"),p(c,"gradientUnits","userSpaceOnUse"),p(c,"gradientTransform","matrix(57 -261 178 39 190.5 296.3)"),p(v,"stop-color","#fff"),p(v,"stop-opacity",".3"),p(w,"offset","1"),p(w,"stop-opacity",".3"),p(h,"id",B=o[8].toString()+"-e"),p(h,"cx","0"),p(h,"cy","0"),p(h,"r","1"),p(h,"gradientUnits","userSpaceOnUse"),p(h,"gradientTransform","matrix(-79 -133 153 -90 321.4 464.2)"),p(F,"stop-color","#fff"),p(F,"stop-opacity","0"),p(A,"offset","1"),p(A,"stop-color","#fff"),p(A,"stop-opacity",".2"),p(T,"id",W=o[8].toString()+"-f"),p(T,"cx","0"),p(T,"cy","0"),p(T,"r","1"),p(T,"gradientUnits","userSpaceOnUse"),p(T,"gradientTransform","matrix(-29 136 -92 -20 300.7 149.9)"),p(z,"stop-color","#fff"),p(z,"stop-opacity",".2"),p(V,"offset","1"),p(V,"stop-color","#fff"),p(V,"stop-opacity",".4"),p(E,"id",Q=o[8].toString()+"-g"),p(E,"cx","0"),p(E,"cy","0"),p(E,"r","1"),p(E,"gradientUnits","userSpaceOnUse"),p(E,"gradientTransform","matrix(72 73 -155 153 137.8 225.2)"),p(ne,"stop-color","#fff"),p(ne,"stop-opacity",".1"),p(ie,"offset","1"),p(ie,"stop-color","#fff"),p(ie,"stop-opacity",".3"),p(Y,"id",le=o[8].toString()+"-h"),p(Y,"cx","0"),p(Y,"cy","0"),p(Y,"r","1"),p(Y,"gradientUnits","userSpaceOnUse"),p(Y,"gradientTransform","matrix(20 118 -251 43 215.1 273.7)"),p(fe,"stop-color","#fff"),p(fe,"stop-opacity",".2"),p(xe,"offset",".5"),p(xe,"stop-color","#fff"),p(xe,"stop-opacity",".2"),p(qe,"offset","1"),p(qe,"stop-color","#fff"),p(qe,"stop-opacity",".3"),p(oe,"id",Ke=o[8].toString()+"-i"),p(oe,"cx","0"),p(oe,"cy","0"),p(oe,"r","1"),p(oe,"gradientUnits","userSpaceOnUse"),p(oe,"gradientTransform","matrix(-162 -85 268 -510 374.4 371.7)"),p(st,"flood-opacity","0"),p(st,"result","BackgroundImageFix"),p(He,"in","SourceGraphic"),p(He,"in2","BackgroundImageFix"),p(He,"result","shape"),p(Je,"stdDeviation","6.5"),p(Je,"result","effect1_foregroundBlur_744_9191"),p(ve,"id",at=o[8].toString()+"-a"),p(ve,"x","80.1"),p(ve,"y","37"),p(ve,"width","351.1"),p(ve,"height","443.2"),p(ve,"filterUnits","userSpaceOnUse"),p(ve,"color-interpolation-filters","sRGB"),p(Ve,"d","M359.2 437.5c-2.6 19-21.3 33.9-40 28.7-26.5-7.2-57.2-18.6-84.8-20.7l-42.4-3.2a28 28 0 0 1-18-8.3l-73-74.8a27.7 27.7 0 0 1-5.4-30.7s45-98.6 46.8-103.7c1.6-5.1 7.8-49.9 11.4-73.9a28 28 0 0 1 9-16.5L249 57.2a28 28 0 0 1 40.6 3.4l72.6 91.6a29.5 29.5 0 0 1 6.2 18.3c0 17.3 1.5 53 11.2 76a301.3 301.3 0 0 0 35.6 58.2 14 14 0 0 1 1 15.6c-6.3 10.7-18.9 31.3-36.6 57.6a142.2 142.2 0 0 0-20.5 59.6Z"),p(Ve,"fill","#000"),p(Ve,"fill-opacity",".3"),p(Ee,"filter",Ht="url(#"+o[8].toString()+"-a)"),p(Me,"id","arrow"),p(Me,"d","M359.9 434.3c-2.6 19.1-21.3 34-40 28.9-26.4-7.3-57-18.7-84.7-20.8l-42.3-3.2a27.9 27.9 0 0 1-18-8.4l-73-75a27.9 27.9 0 0 1-5.4-31s45.1-99 46.8-104.2c1.7-5.1 7.8-50 11.4-74.2a28 28 0 0 1 9-16.6l86.2-77.5a28 28 0 0 1 40.6 3.5l72.5 92a29.7 29.7 0 0 1 6.2 18.3c0 17.4 1.5 53.2 11.1 76.3a303 303 0 0 0 35.6 58.5 14 14 0 0 1 1.1 15.7c-6.4 10.8-18.9 31.4-36.7 57.9a143.3 143.3 0 0 0-20.4 59.8Z"),p(Me,"fill","#6C31E3"),p(lt,"d","M182.7 436.4c33.9-68.7 33-118 18.5-153-13.2-32.4-37.9-52.8-57.3-65.5-.4 1.9-1 3.7-1.8 5.4L96.5 324.8a27.9 27.9 0 0 0 5.5 31l72.9 75c2.3 2.3 5 4.2 7.8 5.6Z"),p(lt,"fill","url(#b)"),p(Vt,"d","M274.9 297c9.1.9 18 2.9 26.8 6.1 27.8 10.4 53.1 33.8 74 78.9 1.5-2.6 3-5.1 4.6-7.5a1222 1222 0 0 0 36.7-57.9 14 14 0 0 0-1-15.7 303 303 0 0 1-35.7-58.5c-9.6-23-11-58.9-11.1-76.3 0-6.6-2.1-13.1-6.2-18.3l-72.5-92-1.2-1.5c5.3 17.5 5 31.5 1.7 44.2-3 11.8-8.6 22.5-14.5 33.8-2 3.8-4 7.7-5.9 11.7a140 140 0 0 0-15.8 58c-1 24.2 3.9 54.5 20 95Z"),p(Vt,"fill",fo="url(#"+o[8].toString()+"-c)"),p(zt,"d","M274.8 297c-16.1-40.5-21-70.8-20-95 1-24 8-42 15.8-58l6-11.7c5.8-11.3 11.3-22 14.4-33.8a78.5 78.5 0 0 0-1.7-44.2 28 28 0 0 0-39.4-2l-86.2 77.5a28 28 0 0 0-9 16.6L144.2 216c0 .7-.2 1.3-.3 2 19.4 12.6 44 33 57.3 65.3 2.6 6.4 4.8 13.1 6.4 20.4a200 200 0 0 1 67.2-6.8Z"),p(zt,"fill",Do="url(#"+o[8].toString()+"-d)"),p(jt,"d","M320 463.2c18.6 5.1 37.3-9.8 39.9-29a153 153 0 0 1 15.9-52.2c-21-45.1-46.3-68.5-74-78.9-29.5-11-61.6-7.3-94.2.6 7.3 33.1 3 76.4-24.8 132.7 3.1 1.6 6.6 2.5 10.1 2.8l43.9 3.3c23.8 1.7 59.3 14 83.2 20.7Z"),p(jt,"fill",xr="url(#"+o[8].toString()+"-e)"),p(Ye,"fill-rule","evenodd"),p(Ye,"clip-rule","evenodd"),p(Ye,"d","M255 200.5c-1.1 24 1.9 51.4 18 91.8l-5-.5c-14.5-42.1-17.7-63.7-16.6-88 1-24.3 8.9-43 16.7-59 2-4 6.6-11.5 8.6-15.3 5.8-11.3 9.7-17.2 13-27.5 4.8-14.4 3.8-21.2 3.2-28 3.7 24.5-10.4 45.8-21 67.5a145 145 0 0 0-17 59Z"),p(Ye,"fill",Ho="url(#"+o[8].toString()+"-f)"),p(ft,"fill-rule","evenodd"),p(ft,"clip-rule","evenodd"),p(ft,"d","M206 285.1c2 4.4 3.7 8 4.9 13.5l-4.3 1c-1.7-6.4-3-11-5.5-16.5-14.6-34.3-38-52-57-65 23 12.4 46.7 31.9 61.9 67Z"),p(ft,"fill",vr="url(#"+o[8].toString()+"-g)"),p(Te,"fill-rule","evenodd"),p(Te,"clip-rule","evenodd"),p(Te,"d","M211.1 303c8 37.5-1 85.2-27.5 131.6 22.2-46 33-90.1 24-131l3.5-.7Z"),p(Te,"fill",Nt="url(#"+o[8].toString()+"-h)"),p(Ze,"fill-rule","evenodd"),p(Ze,"clip-rule","evenodd"),p(Ze,"d","M302.7 299.5c43.5 16.3 60.3 52 72.8 81.9-15.5-31.2-37-65.7-74.4-78.5-28.4-9.8-52.4-8.6-93.5.7l-.9-4c43.6-10 66.4-11.2 96 0Z"),p(Ze,"fill",Vo="url(#"+o[8].toString()+"-i)"),p(e,"width",ut="calc("+o[5].fontSize+"*"+o[5].logoScale+")"),p(e,"height",bt="calc("+o[5].fontSize+"*"+o[5].logoScale+")"),p(e,"viewBox","0 0 512 512"),p(e,"fill","none"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"class","svelte-1yjwmjb")},m(ze,yt){x(ze,e,yt),S(e,t),S(t,r),S(r,i),S(r,n),S(t,a),S(a,l),S(a,u),S(t,c),S(c,d),S(c,m),S(t,h),S(h,v),S(h,w),S(t,T),S(T,F),S(T,A),S(t,E),S(E,z),S(E,V),S(t,Y),S(Y,ne),S(Y,ie),S(t,oe),S(oe,fe),S(oe,xe),S(oe,qe),S(t,ve),S(ve,st),S(ve,He),S(ve,Je),S(e,Ee),S(Ee,Ve),S(e,Me),S(e,lt),S(e,Vt),S(e,zt),S(e,jt),S(e,Ye),S(e,ft),S(e,Te),S(e,Ze)},p(ze,yt){yt&32&&ut!==(ut="calc("+ze[5].fontSize+"*"+ze[5].logoScale+")")&&p(e,"width",ut),yt&32&&bt!==(bt="calc("+ze[5].fontSize+"*"+ze[5].logoScale+")")&&p(e,"height",bt)},d(ze){ze&&_(e)}}}function Js(o){let e,t;return e=new Ws({props:{bookmarkedFiles:o[4],view:o[0],pluginSettings:o[5],bookmarkedFileManager:o[2].bookmarkedFileManager}}),{c(){O(e.$$.fragment)},m(r,i){M(e,r,i),t=!0},p(r,i){let n={};i&16&&(n.bookmarkedFiles=r[4]),i&1&&(n.view=r[0]),i&32&&(n.pluginSettings=r[5]),i&4&&(n.bookmarkedFileManager=r[2].bookmarkedFileManager),e.$set(n)},i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function Ys(o){let e,t;return e=new Gs({props:{recentFileList:o[6],view:o[0],pluginSettings:o[5],recentFileManager:o[2].recentFileManager}}),{c(){O(e.$$.fragment)},m(r,i){M(e,r,i),t=!0},p(r,i){let n={};i&64&&(n.recentFileList=r[6]),i&1&&(n.view=r[0]),i&32&&(n.pluginSettings=r[5]),i&4&&(n.recentFileManager=r[2].recentFileManager),e.$set(n)},i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function mc(o){var f;let e,t,r,i,n,s,a=!((f=o[3])!=null&&f.searchbarOnly)&&Xs(o);r=new Ds({props:{HomeTabSearchBar:o[1],embedded:!!o[3]}});let l=o[9]&&o[4]&&o[11]&&Js(o),u=o[2].recentFileManager&&o[6].length>0&&o[10]&&Ys(o);return{c(){e=L("main"),a&&a.c(),t=C(),O(r.$$.fragment),i=C(),l&&l.c(),n=C(),u&&u.c(),p(e,"class","home-tab svelte-1yjwmjb"),Fe(e,"embedded",o[3])},m(c,d){x(c,e,d),a&&a.m(e,null),S(e,t),M(r,e,null),S(e,i),l&&l.m(e,null),S(e,n),u&&u.m(e,null),s=!0},p(c,[d]){var g;(g=c[3])!=null&&g.searchbarOnly?a&&(a.d(1),a=null):a?a.p(c,d):(a=Xs(c),a.c(),a.m(e,t));let m={};d&2&&(m.HomeTabSearchBar=c[1]),d&8&&(m.embedded=!!c[3]),r.$set(m),c[9]&&c[4]&&c[11]?l?(l.p(c,d),d&16&&b(l,1)):(l=Js(c),l.c(),b(l,1),l.m(e,n)):l&&(ye(),k(l,1,1,()=>{l=null}),we()),c[2].recentFileManager&&c[6].length>0&&c[10]?u?(u.p(c,d),d&68&&b(u,1)):(u=Ys(c),u.c(),b(u,1),u.m(e,null)):u&&(ye(),k(u,1,1,()=>{u=null}),we()),(!s||d&8)&&Fe(e,"embedded",c[3])},i(c){s||(b(r.$$.fragment,c),b(l),b(u),s=!0)},o(c){k(r.$$.fragment,c),k(l),k(u),s=!1},d(c){c&&_(e),a&&a.d(),I(r),l&&l.d(),u&&u.d()}}}function gc(o,e,t){let{view:r}=e,{HomeTabSearchBar:i}=e,{plugin:n}=e,{embeddedView:s=void 0}=e,a=[],l,u=[];Oo.subscribe(h=>{t(5,l=h),l.showbookmarkedFiles&&ar.subscribe(v=>t(4,a=v)),l.showRecentFiles&&Xe.subscribe(v=>t(6,u=v))});let f=app.vault.adapter,c=Math.floor(Math.random()*1e7),d=!!app.internalPlugins.getPluginById("bookmarks"),m=s?s.recentFiles:l.showRecentFiles,g=s?s.bookmarkedFiles:l.showbookmarkedFiles;return o.$$set=h=>{"view"in h&&t(0,r=h.view),"HomeTabSearchBar"in h&&t(1,i=h.HomeTabSearchBar),"plugin"in h&&t(2,n=h.plugin),"embeddedView"in h&&t(3,s=h.embeddedView)},[r,i,n,s,a,l,u,f,c,d,m,g]}var ni=class extends R{constructor(e){super(),H(this,e,gc,mc,D,{view:0,HomeTabSearchBar:1,plugin:2,embeddedView:3},lc)}},ii=ni;var vt="home-tab-view",ur=class extends cr.MarkdownRenderChild{constructor(t,r,i,n){super(t);this.view=r,this.plugin=i,this.parseCodeBlockContent(n),this.searchBar=new ao(i,r)}onload(){this.homepage=new ii({target:this.containerEl,props:{plugin:this.plugin,view:this.view,HomeTabSearchBar:this.searchBar,embeddedView:this}}),this.searchBar.load()}onunload(){this.plugin.activeEmbeddedHomeTabViews.splice(this.plugin.activeEmbeddedHomeTabViews.findIndex(t=>t.view==this.view),1),this.searchBar.fileSuggester.close(),this.homepage.$destroy()}parseCodeBlockContent(t){t.split(`
`).map(r=>r.trim()).forEach(r=>{switch(!0){case r==="":break;case r==="only search bar":this.searchbarOnly=!0;break;case r==="show recent files":this.recentFiles=!0;break;case r==="show bookmarked files":this.bookmarkedFiles=!0;break}})}},Ao=class extends cr.FileView{constructor(t,r){super(t);this.leaf=t,this.plugin=r,this.navigation=!0,this.allowNoFile=!0,this.icon="search",this.searchBar=new ao(this.plugin,this)}getViewType(){return vt}getDisplayText(){return"Home tab"}async onOpen(){this.homepage=new ii({target:this.contentEl,props:{plugin:this.plugin,view:this,HomeTabSearchBar:this.searchBar}}),this.searchBar.load(),this.searchBar.focusSearchbar()}async onClose(){this.searchBar.fileSuggester.close(),this.homepage.$destroy()}};var q=require("obsidian");function hc(o){var r;let e=((r=o[4])!=null?r:o[3].item.basename)+"",t;return{c(){t=ue(e)},m(i,n){x(i,t,n)},p(i,n){var s;n&24&&e!==(e=((s=i[4])!=null?s:i[3].item.basename)+"")&&ge(t,e)},d(i){i&&_(t)}}}function _c(o){let e,t;return e=new Ie({props:{index:o[0],textInputSuggester:o[1],selectedItemIndex:o[2],$$slots:{"suggestion-title":[hc]},$$scope:{ctx:o}}}),{c(){O(e.$$.fragment)},m(r,i){M(e,r,i),t=!0},p(r,[i]){let n={};i&1&&(n.index=r[0]),i&2&&(n.textInputSuggester=r[1]),i&4&&(n.selectedItemIndex=r[2]),i&56&&(n.$$scope={dirty:i,ctx:r}),e.$set(n)},i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function xc(o,e,t){let{index:r}=e,{textInputSuggester:i}=e,{selectedItemIndex:n}=e,{suggestion:s}=e,{displayName:a=void 0}=e;return o.$$set=l=>{"index"in l&&t(0,r=l.index),"textInputSuggester"in l&&t(1,i=l.textInputSuggester),"selectedItemIndex"in l&&t(2,n=l.selectedItemIndex),"suggestion"in l&&t(3,s=l.suggestion),"displayName"in l&&t(4,a=l.displayName)},[r,i,n,s,a]}var si=class extends R{constructor(e){super(),H(this,e,xc,_c,D,{index:0,textInputSuggester:1,selectedItemIndex:2,suggestion:3,displayName:4})}},Zs=si;var Bo=class extends mt{constructor(t,r,i){super(t,r,i);this.fuzzySearch=new Zo(void 0,{...yo,ignoreLocation:!0,keys:["name"]})}getSuggestions(t){return this.fuzzySearch.filteredSearch(t,.25,15)}useSelectedItem(t){this.inputEl.value=t.item.path,this.inputEl.trigger("input"),this.onInput().then(()=>this.close())}getDisplayElementComponentType(){return Zs}getDisplayElementProps(t){return{displayName:t.item.name}}};function ai(o){return!!/\d+(?:cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)(?!.)/g.test(o)}function li(o){return!!/(?:https?):\/\/(\w+:?\w*)?(\S+)(:\d+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/.test(o)}function vc(o){let e,t,r;return{c(){e=L("span"),t=ue(o[5]),p(e,"style",r=o[4]?`font-family: ${o[3].item}`:"")},m(i,n){x(i,e,n),S(e,t)},p(i,n){n&32&&ge(t,i[5]),n&24&&r!==(r=i[4]?`font-family: ${i[3].item}`:"")&&p(e,"style",r)},d(i){i&&_(e)}}}function bc(o){let e,t;return e=new Ie({props:{index:o[0],textInputSuggester:o[1],selectedItemIndex:o[2],$$slots:{"suggestion-title":[vc]},$$scope:{ctx:o}}}),{c(){O(e.$$.fragment)},m(r,i){M(e,r,i),t=!0},p(r,[i]){let n={};i&1&&(n.index=r[0]),i&2&&(n.textInputSuggester=r[1]),i&4&&(n.selectedItemIndex=r[2]),i&120&&(n.$$scope={dirty:i,ctx:r}),e.$set(n)},i(r){t||(b(e.$$.fragment,r),t=!0)},o(r){k(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function yc(o,e,t){let{index:r}=e,{textInputSuggester:i}=e,{selectedItemIndex:n}=e,{suggestion:s}=e,{renderFont:a}=e,{suggestionTitle:l}=e;return o.$$set=u=>{"index"in u&&t(0,r=u.index),"textInputSuggester"in u&&t(1,i=u.textInputSuggester),"selectedItemIndex"in u&&t(2,n=u.selectedItemIndex),"suggestion"in u&&t(3,s=u.suggestion),"renderFont"in u&&t(4,a=u.renderFont),"suggestionTitle"in u&&t(5,l=u.suggestionTitle)},[r,i,n,s,a,l]}var fi=class extends R{constructor(e){super(),H(this,e,yc,bc,D,{index:0,textInputSuggester:1,selectedItemIndex:2,suggestion:3,renderFont:4,suggestionTitle:5})}},Qs=fi;var Ro=class extends mt{constructor(t,r,i,n){super(t,r,i);this.renderFont=n,this.getInstalledFonts().then(s=>this.fuzzySearch=new Ft(s))}async getInstalledFonts(){if(!this.fontList)try{let t=await Promise.resolve().then(()=>Ca(xa()));this.fontList=await t.getFonts()}catch(t){console.warn("Failed to get system fonts",t),this.fontList=[]}return this.fontList}getSuggestions(t){return this.fuzzySearch.filteredSearch(t,.25,15)}useSelectedItem(t){this.inputEl.value=t.item.replace(/"/g,""),this.inputEl.trigger("input"),this.onInput().then(()=>this.close())}getDisplayElementComponentType(){return Qs}getDisplayElementProps(t){var r;return{renderFont:(r=this.renderFont)!=null?r:!1,suggestionTitle:t.item.replace(/"/g,"")}}onNoSuggestion(){if(this.inputEl.value)this.close();else{let r=[];this.fontList.forEach(i=>{r.push({item:i,refIndex:0,score:0})}),this.suggester.setSuggestions(r),this.open()}}};function va(o,e){return o.trim().length==0?!1:document.fonts.check(`${e!=null?e:18}px ${o}`)}var ci={logoType:"default",logo:{lucideIcon:"",imagePath:"",imageLink:""},logoScale:1.2,iconColorType:"default",wordmark:"Obsidian",customFont:"interfaceFont",fontSize:"4em",fontColorType:"default",fontWeight:600,maxResults:5,showbookmarkedFiles:!!app.internalPlugins.getPluginById("bookmarks"),showRecentFiles:!0,maxRecentFiles:12,storeRecentFile:!0,showPath:!0,selectionHighlight:"default",showShortcuts:!0,markdownOnly:!1,unresolvedLinks:!1,searchTitle:!1,searchHeadings:!0,autoJumpToHeading:!0,recentFilesStore:[],bookmarkedFileStore:[],searchDelay:0,replaceNewTabs:!0,newTabOnStart:!1,closePreviousSessionTabs:!1,omnisearch:!1,showOmnisearchExcerpt:!0},dr=class extends q.PluginSettingTab{constructor(t,r){super(t,r);this.plugin=r}display(){var l,u;let{containerEl:t}=this;t.empty(),t.createEl("h3",{text:"Home tab settings"}),t.createEl("h2",{text:"General settings"}),new q.Setting(t).setName("Replace new tabs with Home tab").addToggle(f=>f.setValue(this.plugin.settings.replaceNewTabs).onChange(c=>{this.plugin.settings.replaceNewTabs=c,this.plugin.saveSettings()})),new q.Setting(t).setName("Open new Home tab on Obsidian start").setDesc("If a Home tab is already open it'll focus it instead of opening a new one.").addToggle(f=>f.setValue(this.plugin.settings.newTabOnStart).onChange(c=>{this.plugin.settings.newTabOnStart=c,this.plugin.saveSettings(),this.display()})),this.plugin.settings.newTabOnStart&&new q.Setting(t).setName("Close previous session tabs on start").setDesc("Enable this to close all the tabs and leave only one Home tab on Obsidian opening.").addToggle(f=>f.setValue(this.plugin.settings.closePreviousSessionTabs).onChange(c=>{this.plugin.settings.closePreviousSessionTabs=c,this.plugin.saveSettings()})),t.createEl("h2",{text:"Search settings"}),this.plugin.app.plugins.getPlugin("omnisearch")&&new q.Setting(t).setName("Use Omnisearch").setDesc("Set Omnisearch as the default search engine.").addToggle(f=>f.setValue(this.plugin.settings.omnisearch).onChange(c=>{this.plugin.settings.omnisearch=c,this.plugin.saveSettings(),this.display(),this.plugin.refreshOpenViews()})),this.plugin.settings.omnisearch||(new q.Setting(t).setName("Search only markdown files").addToggle(f=>f.setValue(this.plugin.settings.markdownOnly).onChange(c=>{this.plugin.settings.markdownOnly=c,this.plugin.saveSettings(),this.plugin.refreshOpenViews()})),new q.Setting(t).setName("Show uncreated files").addToggle(f=>f.setValue(this.plugin.settings.unresolvedLinks).onChange(c=>{this.plugin.settings.unresolvedLinks=c,this.plugin.saveSettings(),this.plugin.refreshOpenViews()})),new q.Setting(t).setName("Search file titles").setDesc("Enable this to search through file titles.").addToggle(f=>f.setValue(this.plugin.settings.searchTitle).onChange(c=>{this.plugin.settings.searchTitle=c,this.plugin.saveSettings(),this.plugin.refreshOpenViews()})),new q.Setting(t).setName("Search headings").setDesc("Enable this to search through document headings (# Title).").addToggle(f=>f.setValue(this.plugin.settings.searchHeadings).onChange(c=>{this.plugin.settings.searchHeadings=c,this.plugin.saveSettings(),this.plugin.refreshOpenViews(),this.display()})),this.plugin.settings.searchHeadings&&new q.Setting(t).setName("Jump to Heading").setDesc("When search results match headings, clicking will automatically jump to the corresponding heading.").addToggle(f=>{var c;return f.setValue((c=this.plugin.settings.autoJumpToHeading)!=null?c:!0).onChange(d=>{this.plugin.settings.autoJumpToHeading=d,this.plugin.saveSettings()})}),new q.Setting(t).setName("Show file path").setDesc("Displays file path at the right of the filename.").addToggle(f=>f.setValue(this.plugin.settings.showPath).onChange(c=>{this.plugin.settings.showPath=c,this.plugin.saveSettings()}))),new q.Setting(t).setName("Show shorcuts").setDesc("Displays shortcuts under the search results.").addToggle(f=>f.setValue(this.plugin.settings.showShortcuts).onChange(c=>{this.plugin.settings.showShortcuts=c,this.plugin.refreshOpenViews(),this.plugin.saveSettings()})),new q.Setting(t).setName("Search results").setDesc("Set how many results display.").addSlider(f=>f.setLimits(1,25,1).setValue(this.plugin.settings.maxResults).setDynamicTooltip().onChange(c=>{this.plugin.settings.maxResults=c,this.plugin.saveSettings()})).then(f=>this.addResetButton(f,"maxResults")),new q.Setting(t).setName("Search delay").setDesc("The value is in milliseconds.").addSlider(f=>f.setLimits(0,500,10).setValue(this.plugin.settings.searchDelay).setDynamicTooltip().onChange(c=>{this.plugin.settings.searchDelay=c,this.plugin.saveSettings(),this.plugin.refreshOpenViews()})).then(f=>this.addResetButton(f,"searchDelay")),this.plugin.app.plugins.getPlugin("omnisearch")&&new q.Setting(t).setName("Show excerpt (Omnisearch)").setDesc("Shows the contextual part of the note that matches the search.").addToggle(f=>f.setValue(this.plugin.settings.showOmnisearchExcerpt).onChange(c=>{this.plugin.settings.showOmnisearchExcerpt=c,this.plugin.saveSettings()})),t.createEl("h2",{text:"Files display"}),app.internalPlugins.getPluginById("bookmarks")&&new q.Setting(t).setName("Show bookmarked files").setDesc("Shows bookmarked files under the search bar.").addToggle(f=>f.setValue(this.plugin.settings.showbookmarkedFiles).onChange(c=>{this.plugin.settings.showbookmarkedFiles=c,this.plugin.saveSettings(),this.plugin.refreshOpenViews()})),new q.Setting(t).setName("Show recent files").setDesc("Displays recent files under the search bar.").addToggle(f=>f.setValue(this.plugin.settings.showRecentFiles).onChange(c=>{this.plugin.settings.showRecentFiles=c,this.plugin.saveSettings(),this.display(),this.plugin.refreshOpenViews()})),this.plugin.settings.showRecentFiles&&(new q.Setting(t).setName("Store last recent files").setDesc("Remembers the recent files of the previous session.").addToggle(f=>f.setValue(this.plugin.settings.storeRecentFile).onChange(c=>{this.plugin.settings.storeRecentFile=c,this.plugin.saveSettings()})),new q.Setting(t).setName("Recent files").setDesc("Set how many recent files display.").addSlider(f=>f.setValue(this.plugin.settings.maxRecentFiles).setLimits(1,25,1).setDynamicTooltip().onChange(c=>{this.plugin.recentFileManager.onNewMaxListLenght(c),this.plugin.settings.maxRecentFiles=c,this.plugin.saveSettings()})).then(f=>this.addResetButton(f,"maxRecentFiles"))),t.createEl("h2",{text:"Appearance"});let r=new q.Setting(t).setName("Logo").setDesc("Remove or set a custom logo. Accepts local files, links to images or lucide icon ids.");(l=r.descEl.parentElement)==null||l.addClass("ultra-compressed");let i;if(r.addExtraButton(f=>{f.setIcon("alert-circle").setTooltip("The path/link/icon is not valid."),i=f.extraSettingsEl,i.toggleVisibility(!1),i.addClass("mod-warning")}),(this.plugin.settings.logoType==="imagePath"||this.plugin.settings.logoType==="imageLink"||this.plugin.settings.logoType==="lucideIcon")&&r.addSearch(f=>{var c;this.plugin.settings.logoType==="imagePath"?new Bo(this.app,f.inputEl,{isScrollable:!0,style:"max-height: 200px"}):this.plugin.settings.logoType==="lucideIcon"&&new Rt(this.app,f.inputEl,{isScrollable:!0,style:"max-height: 200px"},!0),(c=f.setPlaceholder("Type anything ... ").setValue(this.plugin.settings.logo[this.plugin.settings.logoType]!=""?this.plugin.settings.logo[this.plugin.settings.logoType]:"").onChange(async d=>{if(d===""||d=="/"){i.toggleVisibility(!1);return}if(this.plugin.settings.logoType==="imagePath"){let m=(0,q.normalizePath)(d);await app.vault.adapter.exists(m)?(i.toggleVisibility(!1),this.plugin.settings.logo.imagePath=m,this.plugin.saveSettings()):i.toggleVisibility(!0)}else this.plugin.settings.logoType==="imageLink"?li(d)?(i.toggleVisibility(!1),this.plugin.settings.logo.imageLink=d,this.plugin.saveSettings()):i.toggleVisibility(!0):this.plugin.settings.logoType==="lucideIcon"&&(At.includes(d)?(this.plugin.settings.logo.lucideIcon=d,this.plugin.saveSettings(),i.toggleVisibility(!1)):i.toggleVisibility(!0))}).inputEl.parentElement)==null||c.addClass("wide-input-container")}),r.addDropdown(f=>f.addOption("default","Obsidian logo").addOption("oldLogo","Obsidian old logo").addOption("imagePath","Local image").addOption("imageLink","Link").addOption("lucideIcon","Lucide icon").addOption("none","Empty").setValue(this.plugin.settings.logoType).onChange(c=>{this.plugin.settings.logoType=c,this.plugin.saveSettings(),this.display()})).then(f=>this.addResetButton(f,"logoType")),this.plugin.settings.logoType==="lucideIcon"){let f=new q.Setting(t).setName("Logo icon color").setDesc("Set the icon color");this.plugin.settings.iconColorType==="custom"&&f.addColorPicker(c=>c.setValue(this.plugin.settings.iconColor?this.plugin.settings.iconColor:"#000000").onChange(d=>{this.plugin.settings.iconColor=d,this.plugin.saveSettings()})),f.addDropdown(c=>c.addOption("default","Theme default").addOption("accentColor","Accent color").addOption("custom","Custom").setValue(this.plugin.settings.iconColorType).onChange(d=>{this.plugin.settings.iconColorType=d,this.plugin.saveSettings(),this.display()})).then(c=>this.addResetButton(c,"iconColorType"))}new q.Setting(t).setName("Logo scale").setDesc("Set the logo dimensions relative to the title font size.").addSlider(f=>f.setDynamicTooltip().setLimits(.3,3,.1).setValue(this.plugin.settings.logoScale).onChange(c=>{this.plugin.settings.logoScale=c,this.plugin.saveSettings()})).then(f=>this.addResetButton(f,"logoScale")),new q.Setting(t).setName("Title").addText(f=>f.setValue(this.plugin.settings.wordmark).onChange(c=>{this.plugin.settings.wordmark=c,this.plugin.saveSettings()})).then(f=>this.addResetButton(f,"wordmark"));let n=new q.Setting(t).setName("Title font").setDesc("Interface font, text font, and monospace font options match the fonts set in the Appearance setting tab.");if((u=n.descEl.parentElement)==null||u.addClass("compressed"),this.plugin.settings.customFont==="custom"){let f;n.addExtraButton(c=>{c.setIcon("alert-circle").setTooltip("The font is not valid."),f=c.extraSettingsEl,f.toggleVisibility(!1),f.addClass("mod-warning")}),n.addSearch(c=>{var m;c.setValue(this.plugin.settings.font?this.plugin.settings.font.replace(/"/g,""):""),c.setPlaceholder("Type anything ... ");let d=q.Platform.isMobile||q.Platform.isMacOS?void 0:new Ro(this.app,c.inputEl,{isScrollable:!0,style:`max-height: 200px;
                    width: fit-content;
                    min-width: 200px;`},!0);(m=c.onChange(async g=>{g=g.indexOf(" ")>=0?`"${g}"`:g,d&&(await d.getInstalledFonts()).includes(g)||va(g)?(this.plugin.settings.font=g,this.plugin.saveSettings(),f.toggleVisibility(!1)):f.toggleVisibility(!0)}).inputEl.parentElement)==null||m.addClass("wide-input-container")})}n.addDropdown(f=>f.addOption("interfaceFont","Interface font").addOption("textFont","Text font").addOption("monospaceFont","Monospace font").addOption("custom","Custom font").setValue(this.plugin.settings.customFont).onChange(c=>{this.plugin.settings.customFont=c,this.plugin.saveSettings(),this.display()})),this.addResetButton(n,"customFont");let s;new q.Setting(t).setName("Title font size").setDesc("Accepts any CSS font-size value.").addExtraButton(f=>{f.setIcon("alert-circle").setTooltip("The CSS unit is not valid."),s=f.extraSettingsEl,s.addClass("mod-warning"),s.toggleVisibility(!1)}).addText(f=>f.setValue(this.plugin.settings.fontSize).onChange(c=>{ai(c)?(this.plugin.settings.fontSize=c,this.plugin.saveSettings(),s.toggleVisibility(!1)):s.toggleVisibility(!0)})).then(f=>this.addResetButton(f,"fontSize")),new q.Setting(t).setName("Title font weight").addSlider(f=>f.setLimits(100,900,100).setDynamicTooltip().setValue(this.plugin.settings.fontWeight).onChange(c=>{this.plugin.settings.fontWeight=c,this.plugin.saveSettings()})).then(f=>this.addResetButton(f,"fontWeight"));let a=new q.Setting(t).setName("Title color");this.plugin.settings.fontColorType==="custom"&&a.addColorPicker(f=>f.setValue(this.plugin.settings.fontColor?this.plugin.settings.fontColor:"#000000").onChange(c=>{this.plugin.settings.fontColor=c,this.plugin.saveSettings()})),a.addDropdown(f=>f.addOption("default","Theme default").addOption("accentColor","Accent color").addOption("custom","Custom").setValue(this.plugin.settings.fontColorType).onChange(c=>{this.plugin.settings.fontColorType=c,this.plugin.saveSettings(),this.display()})).then(f=>this.addResetButton(f,"fontColorType")),new q.Setting(t).setName("Selection highlight").setDesc("Set the color of the selected item.").addDropdown(f=>f.addOption("default","Theme default").addOption("accentColor","Accent color").setValue(this.plugin.settings.selectionHighlight).onChange(c=>{this.plugin.settings.selectionHighlight=c,this.plugin.saveSettings(),this.plugin.refreshOpenViews()})).then(f=>this.addResetButton(f,"selectionHighlight"))}addResetButton(t,r,i=!0){t.addExtraButton(n=>n.setIcon("reset").setTooltip("Reset to default").onClick(()=>{this.plugin.settings[r]=ci[r],this.plugin.saveSettings(),i&&this.display()}))}};var lo=require("obsidian");var mr=class extends lo.Component{constructor(t,r){super();this.app=t,this.plugin=r,this.pluginSettings=r.settings}onload(){this.registerEvent(this.app.workspace.on("file-open",async t=>{this.updateRecentFiles(t),await this.storeRecentFiles()})),this.registerEvent(this.app.vault.on("delete",async t=>{t instanceof lo.TFile&&this.removeRecentFile(t),await this.storeRecentFiles()})),this.registerEvent(this.app.vault.on("rename",t=>t instanceof lo.TFile?this.onFileRename():null)),this.loadStoredRecentFiles()}updateRecentFiles(t){t&&Xe.update(r=>{if(r.some(i=>i.file===t)){let i=r.findIndex(n=>n.file===t);r[i].timestamp=Date.now()}else r.length>=this.pluginSettings.maxRecentFiles?r[r.length-1]={file:t,timestamp:Date.now()}:r.push({file:t,timestamp:Date.now()});return r.sort((i,n)=>n.timestamp-i.timestamp)})}removeRecentFile(t){Xe.update(r=>(r.splice(r.findIndex(i=>i.file==t),1),r)),this.storeRecentFiles()}onNewMaxListLenght(t){let r=te(Xe).length;t<r&&this.removeRecentFiles(r-t)}removeRecentFiles(t){Xe.update(r=>(r.splice(r.length-t,t),r)),this.storeRecentFiles()}onFileRename(){Xe.update(t=>t)}async storeRecentFiles(){if(this.plugin.settings.storeRecentFile){let t=[];te(Xe).forEach(r=>t.push({filepath:r.file.path,timestamp:r.timestamp})),this.plugin.settings.recentFilesStore=t,await this.plugin.saveData(this.plugin.settings)}}loadStoredRecentFiles(){if(this.plugin.settings.storeRecentFile){let t=[];this.app.workspace.onLayoutReady(()=>{this.plugin.settings.recentFilesStore.forEach(r=>{let i=this.app.vault.getAbstractFileByPath(r.filepath);i&&i instanceof lo.TFile&&t.push({file:i,timestamp:r.timestamp})}),Xe.set(t)})}}};var Dt=require("obsidian");var gr=class extends Dt.Component{constructor(t,r,i){super();this.removeBookmark=t=>{let r=this.app.internalPlugins.getPluginById("bookmarks");if(r){let i=r.instance.getBookmarks().find(n=>n.path===t.path);i&&this.app.internalPlugins.plugins.bookmarks.instance.removeItem(i)}else new Dt.Notice("Bookmarks plugin is not enabled")};this.app=t,this.plugin=r,this.bookmarkedFilesStore=i}onload(){this.loadStoredBookmarkedFiles(),this.updateBookmarkedFiles(),this.registerEvent(this.app.internalPlugins.getPluginById("bookmarks").instance.on("changed",()=>this.updateBookmarkedFiles()))}updateBookmarkedFiles(){let t=this.getBookmarkedFiles();this.bookmarkedFilesStore.update(r=>{let i=[];return t.forEach(n=>{var s,a;i.push({file:n,iconId:(a=(s=r.find(l=>l.file===n))==null?void 0:s.iconId)!=null?a:void 0})}),i}),this.storeBookmarkedFiles()}updateFileIcon(t,r){this.bookmarkedFilesStore.update(i=>{let n=i.findIndex(s=>s.file===t);return i[n].iconId=r,i}),this.storeBookmarkedFiles()}getBookmarkedFiles(){if(this.app.internalPlugins.getPluginById("bookmarks")){let t=app.internalPlugins.plugins.bookmarks.instance.getBookmarks(),r=[];return t.forEach(i=>{if(i.type==="file"){let n=app.vault.getAbstractFileByPath(i.path);n instanceof Dt.TFile&&r.push(n)}}),r}return[]}async storeBookmarkedFiles(){if(this.app.internalPlugins.getPluginById("bookmarks")){let t=[];te(this.bookmarkedFilesStore).forEach(r=>t.push({filepath:r.file.path,iconId:r.iconId})),this.plugin.settings.bookmarkedFileStore=t,await this.plugin.saveData(this.plugin.settings)}}loadStoredBookmarkedFiles(){if(this.app.internalPlugins.getPluginById("bookmarks")){let t=[];this.app.workspace.onLayoutReady(()=>{this.plugin.settings.bookmarkedFileStore.forEach(r=>{let i=this.app.vault.getAbstractFileByPath(r.filepath);i&&i instanceof Dt.TFile&&t.push({file:i,iconId:r.iconId})}),this.bookmarkedFilesStore.set(t)})}}};var hr=class extends _r.Plugin{async onload(){console.log("Loading home-tab plugin"),await this.loadSettings(),this.addSettingTab(new dr(this.app,this)),this.registerView(vt,t=>new Ao(t,this)),this.registerEvent(this.app.workspace.on("layout-change",()=>this.onLayoutChange())),this.registerEvent(this.app.workspace.on("active-leaf-change",t=>{t.view instanceof Ao&&t.view.searchBar.focusSearchbar()})),Oo.set(this.settings),this.activeEmbeddedHomeTabViews=[],this.recentFileManager=new mr(this.app,this),this.recentFileManager.load(),this.addCommand({id:"open-new-home-tab",name:"Open new Home tab",callback:()=>this.activateView(!1,!0)}),this.addCommand({id:"open-home-tab",name:"Replace current tab",callback:()=>this.activateView(!0)}),this.app.workspace.onLayoutReady(()=>{if(this.app.internalPlugins.getPluginById("bookmarks")&&(this.bookmarkedFileManager=new gr(this.app,this,ar),this.bookmarkedFileManager.load()),this.registerMarkdownCodeBlockProcessor("search-bar",(t,r,i)=>{let n=this.app.workspace.getActiveViewOfType(_r.MarkdownView);if(n){let s=new ur(r,n,this,t);this.activeEmbeddedHomeTabViews.push(s),i.addChild(s)}}),this.settings.newTabOnStart){let t=this.app.workspace.getLeavesOfType(vt);if(t.length>0?(this.app.workspace.revealLeaf(t[0]),t.forEach((r,i)=>{i<1||r.detach()})):this.activateView(!1,!0),this.settings.closePreviousSessionTabs){let r=[];this.app.workspace.iterateRootLeaves(i=>{let n=i.view.getViewType();r.indexOf(n)===-1&&n!=vt&&r.push(n)}),r.forEach(i=>this.app.workspace.detachLeavesOfType(i))}}})}onunload(){this.app.workspace.detachLeavesOfType(vt),this.activeEmbeddedHomeTabViews.forEach(t=>t.unload()),this.recentFileManager.unload(),this.bookmarkedFileManager.unload()}async loadSettings(){this.settings=Object.assign({},ci,await this.loadData())}async saveSettings(){await this.saveData(this.settings),Oo.update(()=>this.settings)}onLayoutChange(){this.settings.replaceNewTabs&&this.activateView()}activateView(t,r){let i=r?this.app.workspace.getLeaf("tab"):this.app.workspace.getMostRecentLeaf();i&&(t||i.getViewState().type==="empty")&&(i.setViewState({type:vt}),r&&this.app.workspace.revealLeaf(i))}refreshOpenViews(){this.app.workspace.getLeavesOfType(vt).forEach(t=>t.rebuildView())}};
